
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-8.1.6">
    
    
      
        <title>美年旅游09 - 我的文档</title>
      
    
    
      <link rel="stylesheet" href="../../../../../assets/stylesheets/main.cd566b2a.min.css">
      
        
        <link rel="stylesheet" href="../../../../../assets/stylesheets/palette.e6a45f82.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../../../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../../.." title="我的文档" class="md-header__button md-logo" aria-label="我的文档" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            我的文档
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              美年旅游09
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    
  


  
  
  
    

  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../../../java%E5%9F%BA%E7%A1%80/%E5%9F%BA%E7%A1%80%E9%83%A8%E5%88%86/01%20Java%E6%A6%82%E8%BF%B0/01%20-%20Java%E8%AF%AD%E8%A8%80%E6%A6%82%E8%BF%B0/" class="md-tabs__link md-tabs__link--active">
        Java课程
      </a>
    </li>
  

  

  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../../java%E9%9D%A2%E8%AF%95%E9%A2%98/%E7%AC%AC1%E7%AB%A0%20%E9%9D%A2%E8%AF%95%E8%AF%B4%E6%98%8E/" class="md-tabs__link">
        Java就业面试
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../../.." class="md-tabs__link">
      学习文档
    </a>
  </li>

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../../.." title="我的文档" class="md-nav__button md-logo" aria-label="我的文档" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    我的文档
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_1">
          Java课程
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Java课程" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Java课程
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_1" type="checkbox" id="__nav_1_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1_1">
          Java基础
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Java基础" data-md-level="2">
        <label class="md-nav__title" for="__nav_1_1">
          <span class="md-nav__icon md-icon"></span>
          Java基础
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_1_1" type="checkbox" id="__nav_1_1_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1_1_1">
          基础部分
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="基础部分" data-md-level="3">
        <label class="md-nav__title" for="__nav_1_1_1">
          <span class="md-nav__icon md-icon"></span>
          基础部分
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../java%E5%9F%BA%E7%A1%80/%E5%9F%BA%E7%A1%80%E9%83%A8%E5%88%86/01%20Java%E6%A6%82%E8%BF%B0/01%20-%20Java%E8%AF%AD%E8%A8%80%E6%A6%82%E8%BF%B0/" class="md-nav__link">
        Java概述
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../java%E5%9F%BA%E7%A1%80/%E5%9F%BA%E7%A1%80%E9%83%A8%E5%88%86/02%20%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/02%20%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/" class="md-nav__link">
        基本语法
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../java%E5%9F%BA%E7%A1%80/%E5%9F%BA%E7%A1%80%E9%83%A8%E5%88%86/03%20%E6%95%B0%E7%BB%84/03%20%E6%95%B0%E7%BB%84/" class="md-nav__link">
        数组
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../java%E5%9F%BA%E7%A1%80/%E5%9F%BA%E7%A1%80%E9%83%A8%E5%88%86/04%20%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/04%20%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/" class="md-nav__link">
        面向对象
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../java%E5%9F%BA%E7%A1%80/%E5%9F%BA%E7%A1%80%E9%83%A8%E5%88%86/05%20%E5%BC%82%E5%B8%B8/05%20%E5%BC%82%E5%B8%B8/" class="md-nav__link">
        异常
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_1_2" type="checkbox" id="__nav_1_1_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1_1_2">
          高级部分
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="高级部分" data-md-level="3">
        <label class="md-nav__title" for="__nav_1_1_2">
          <span class="md-nav__icon md-icon"></span>
          高级部分
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../java%E5%9F%BA%E7%A1%80/%E9%AB%98%E7%BA%A7%E9%83%A8%E5%88%86/06%20%E5%B8%B8%E7%94%A8%E7%B1%BBAPI/06%20%E5%B8%B8%E7%94%A8%E7%B1%BBAPI/" class="md-nav__link">
        常用类API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../java%E5%9F%BA%E7%A1%80/%E9%AB%98%E7%BA%A7%E9%83%A8%E5%88%86/07%20%E9%9B%86%E5%90%88/07%20%E9%9B%86%E5%90%88/" class="md-nav__link">
        集合
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../java%E5%9F%BA%E7%A1%80/%E9%AB%98%E7%BA%A7%E9%83%A8%E5%88%86/08%20%E6%B3%9B%E5%9E%8B/08%20%E6%B3%9B%E5%9E%8B/" class="md-nav__link">
        泛型
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../java%E5%9F%BA%E7%A1%80/%E9%AB%98%E7%BA%A7%E9%83%A8%E5%88%86/09%20File%E7%B1%BB%E4%B8%8EIO%E6%B5%81/09%20File%E7%B1%BB%E4%B8%8EIO%E6%B5%81/" class="md-nav__link">
        File类与IO流
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../java%E5%9F%BA%E7%A1%80/%E9%AB%98%E7%BA%A7%E9%83%A8%E5%88%86/10%20%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/10%20%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/" class="md-nav__link">
        网络编程
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../java%E5%9F%BA%E7%A1%80/%E9%AB%98%E7%BA%A7%E9%83%A8%E5%88%86/11%20%E5%A4%9A%E7%BA%BF%E7%A8%8B/11%20%E5%A4%9A%E7%BA%BF%E7%A8%8B/" class="md-nav__link">
        多线程
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../java%E5%9F%BA%E7%A1%80/%E9%AB%98%E7%BA%A7%E9%83%A8%E5%88%86/12%20%E5%8F%8D%E5%B0%84/12%20%E5%8F%8D%E5%B0%84/" class="md-nav__link">
        反射
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../java%E5%9F%BA%E7%A1%80/%E9%AB%98%E7%BA%A7%E9%83%A8%E5%88%86/13%20Java8%E6%96%B0%E7%89%B9%E6%80%A7/Java8%E6%96%B0%E7%89%B9%E6%80%A7/" class="md-nav__link">
        Java8新特性
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_2" type="checkbox" id="__nav_1_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1_2">
          MySQL数据库
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="MySQL数据库" data-md-level="2">
        <label class="md-nav__title" for="__nav_1_2">
          <span class="md-nav__icon md-icon"></span>
          MySQL数据库
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/14%20MySQL/MySQL5.7%E5%AE%89%E8%A3%85%E6%96%87%E6%A1%A3/" class="md-nav__link">
        MySQL5.7安装文档
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/14%20MySQL/MySQL%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        MySQL
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/14%20MySQL/JDBC%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        JDBC
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_3" type="checkbox" id="__nav_1_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1_3">
          JavaWeb阶段
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="JavaWeb阶段" data-md-level="2">
        <label class="md-nav__title" for="__nav_1_3">
          <span class="md-nav__icon md-icon"></span>
          JavaWeb阶段
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../JavaWeb%E9%98%B6%E6%AE%B5/day01/day01_HTML%26CSS/" class="md-nav__link">
        HTML&CSS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../JavaWeb%E9%98%B6%E6%AE%B5/day02/day02_JS%26%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" class="md-nav__link">
        JS&正则表达式
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../JavaWeb%E9%98%B6%E6%AE%B5/day03/day03_VUE%26%E4%B9%A6%E5%9F%8E%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5/" class="md-nav__link">
        VUE&书城第一阶段
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../JavaWeb%E9%98%B6%E6%AE%B5/day04/day04_XML%26Tomcat%26Http%E5%8D%8F%E8%AE%AE/" class="md-nav__link">
        XML&Tomcat&Http协议
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../JavaWeb%E9%98%B6%E6%AE%B5/day05/day05_Servlet/" class="md-nav__link">
        Servlet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../JavaWeb%E9%98%B6%E6%AE%B5/day06/day06_Request%26Response/" class="md-nav__link">
        Request&Response
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../JavaWeb%E9%98%B6%E6%AE%B5/day07/day07_%E4%B9%A6%E5%9F%8E%E9%A1%B9%E7%9B%AE%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5/" class="md-nav__link">
        书城项目第二阶
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../JavaWeb%E9%98%B6%E6%AE%B5/day08/day08_Thymeleaf/" class="md-nav__link">
        Thymeleaf
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../JavaWeb%E9%98%B6%E6%AE%B5/day09/day09_%E4%B9%A6%E5%9F%8E%E9%A1%B9%E7%9B%AE%E7%AC%AC%E4%B8%89%E9%98%B6%E6%AE%B5/" class="md-nav__link">
        书城项目第三阶段
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../JavaWeb%E9%98%B6%E6%AE%B5/day10/day10_%E4%BC%9A%E8%AF%9D%26%E4%B9%A6%E5%9F%8E%E9%A1%B9%E7%9B%AE%E7%AC%AC%E5%9B%9B%E9%98%B6%E6%AE%B5%281%29/" class="md-nav__link">
        会话&书城项目第四阶段1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../JavaWeb%E9%98%B6%E6%AE%B5/day11/day11_%E4%B9%A6%E5%9F%8E%E9%A1%B9%E7%9B%AE%E7%AC%AC%E5%9B%9B%E9%98%B6%E6%AE%B5/" class="md-nav__link">
        书城项目第四阶段2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../JavaWeb%E9%98%B6%E6%AE%B5/day12/day12_Filter%26Listener%26%E4%B9%A6%E5%9F%8E%E9%A1%B9%E7%9B%AE%E7%AC%AC%E4%BA%94%E9%98%B6%E6%AE%B5/" class="md-nav__link">
        Filter&Listener&书城项目第五阶段1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../JavaWeb%E9%98%B6%E6%AE%B5/day13/day13_%E4%B9%A6%E5%9F%8E%E9%A1%B9%E7%9B%AE%E7%AC%AC%E4%BA%94%E9%98%B6%E6%AE%B5/" class="md-nav__link">
        书城项目第五阶段2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../JavaWeb%E9%98%B6%E6%AE%B5/day14/day14_Ajax%26Axios%26%E4%B9%A6%E5%9F%8E%E9%A1%B9%E7%9B%AE%E7%AC%AC%E5%85%AD%E9%98%B6%E6%AE%B5/" class="md-nav__link">
        Ajax&Axios&书城项目第六阶段
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_4" type="checkbox" id="__nav_1_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1_4">
          经典框架
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="经典框架" data-md-level="2">
        <label class="md-nav__title" for="__nav_1_4">
          <span class="md-nav__icon md-icon"></span>
          经典框架
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BB%8F%E5%85%B8%E6%A1%86%E6%9E%B6/Spring%20%E5%9F%BA%E7%A1%80/" class="md-nav__link">
        Spring
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BB%8F%E5%85%B8%E6%A1%86%E6%9E%B6/SpringMVC%20%E5%9F%BA%E7%A1%80/" class="md-nav__link">
        SpringMVC
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BB%8F%E5%85%B8%E6%A1%86%E6%9E%B6/MyBatis%20%E5%9F%BA%E7%A1%80/" class="md-nav__link">
        MyBatis
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BB%8F%E5%85%B8%E6%A1%86%E6%9E%B6/SSM%20%E6%95%B4%E5%90%88%E9%85%8D%E7%BD%AE/" class="md-nav__link">
        SSM
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BB%8F%E5%85%B8%E6%A1%86%E6%9E%B6/Maven%20%E5%9F%BA%E7%A1%80/" class="md-nav__link">
        Maven
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BB%8F%E5%85%B8%E6%A1%86%E6%9E%B6/%E6%A1%86%E6%9E%B6%E9%AB%98%E7%BA%A7%E8%AF%BE%E7%A8%8B%E7%B3%BB%E5%88%97%E4%B9%8BLinuxCentOS7/" class="md-nav__link">
        Linux
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E7%BB%8F%E5%85%B8%E6%A1%86%E6%9E%B6/Redis/" class="md-nav__link">
        Redis
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_5" type="checkbox" id="__nav_1_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1_5">
          微服务相关
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="微服务相关" data-md-level="2">
        <label class="md-nav__title" for="__nav_1_5">
          <span class="md-nav__icon md-icon"></span>
          微服务相关
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%BE%AE%E6%9C%8D%E5%8A%A1%E7%9B%B8%E5%85%B3/Docker/Docker/" class="md-nav__link">
        Docker
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%BE%AE%E6%9C%8D%E5%8A%A1%E7%9B%B8%E5%85%B3/ElasticSearch/ElasticSearch/" class="md-nav__link">
        ElasticSearch
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%BE%AE%E6%9C%8D%E5%8A%A1%E7%9B%B8%E5%85%B3/RabbitMQ/RabbitMQ/" class="md-nav__link">
        RabbitMQ
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%BE%AE%E6%9C%8D%E5%8A%A1%E7%9B%B8%E5%85%B3/SpringBoot/SpringBoot/" class="md-nav__link">
        SpringBoot
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E5%BE%AE%E6%9C%8D%E5%8A%A1%E7%9B%B8%E5%85%B3/SpringCloud/SpringCloud/" class="md-nav__link">
        SpringCloud
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_6" type="checkbox" id="__nav_1_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1_6">
          高级技术
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="高级技术" data-md-level="2">
        <label class="md-nav__title" for="__nav_1_6">
          <span class="md-nav__icon md-icon"></span>
          高级技术
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E9%AB%98%E7%BA%A7%E6%8A%80%E6%9C%AF/git/Git%E5%88%86%E5%B8%83%E5%BC%8F%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%E5%B7%A5%E5%85%B7/" class="md-nav__link">
        git
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E9%AB%98%E7%BA%A7%E6%8A%80%E6%9C%AF/juc/JUC/" class="md-nav__link">
        JUC
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E9%AB%98%E7%BA%A7%E6%8A%80%E6%9C%AF/jvm/jvm/" class="md-nav__link">
        jvm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E9%AB%98%E7%BA%A7%E6%8A%80%E6%9C%AF/mysql%E9%AB%98%E7%BA%A7/MySQL%E9%AB%98%E7%BA%A7/" class="md-nav__link">
        mysql高级
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E9%AB%98%E7%BA%A7%E6%8A%80%E6%9C%AF/mysql%E9%AB%98%E7%BA%A7/MySQL%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6/" class="md-nav__link">
        MySQL主从复制
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E9%AB%98%E7%BA%A7%E6%8A%80%E6%9C%AF/MyCat/Mycat/" class="md-nav__link">
        MyCat
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../%E9%AB%98%E7%BA%A7%E6%8A%80%E6%9C%AF/nginx/Nginx/" class="md-nav__link">
        Nginx
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_7" type="checkbox" id="__nav_1_7" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_1_7">
          项目文档
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="项目文档" data-md-level="2">
        <label class="md-nav__title" for="__nav_1_7">
          <span class="md-nav__icon md-icon"></span>
          项目文档
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_7_1" type="checkbox" id="__nav_1_7_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_1_7_1">
          美年旅游
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="美年旅游" data-md-level="3">
        <label class="md-nav__title" for="__nav_1_7_1">
          <span class="md-nav__icon md-icon"></span>
          美年旅游
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../day01/%E7%BE%8E%E5%B9%B4%E5%9B%BD%E5%AE%BE%E9%A1%B9%E7%9B%AE%E8%AE%B2%E4%B9%89%EF%BC%88%E7%AC%AC1%E7%AB%A0%EF%BC%89/" class="md-nav__link">
        美年旅游01
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../day02/%E7%BE%8E%E5%B9%B4%E5%9B%BD%E5%AE%BE%E9%A1%B9%E7%9B%AE%E8%AE%B2%E4%B9%89%EF%BC%88%E7%AC%AC2%E7%AB%A0%EF%BC%89/" class="md-nav__link">
        美年旅游02
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../day03/%E7%BE%8E%E5%B9%B4%E5%9B%BD%E5%AE%BE%E9%A1%B9%E7%9B%AE%E8%AE%B2%E4%B9%89%EF%BC%88%E7%AC%AC3%E7%AB%A0%EF%BC%89/" class="md-nav__link">
        美年旅游03
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../day04/%E7%BE%8E%E5%B9%B4%E5%9B%BD%E5%AE%BE%E9%A1%B9%E7%9B%AE%E8%AE%B2%E4%B9%89%EF%BC%88%E7%AC%AC4%E7%AB%A0%EF%BC%89/" class="md-nav__link">
        美年旅游04
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../day05/%E7%BE%8E%E5%B9%B4%E5%9B%BD%E5%AE%BE%E9%A1%B9%E7%9B%AE%E8%AE%B2%E4%B9%89%EF%BC%88%E7%AC%AC5%E7%AB%A0%EF%BC%89/" class="md-nav__link">
        美年旅游05
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../day06/%E7%BE%8E%E5%B9%B4%E5%9B%BD%E5%AE%BE%E9%A1%B9%E7%9B%AE%E8%AE%B2%E4%B9%89%EF%BC%88%E7%AC%AC6%E7%AB%A0%EF%BC%89/" class="md-nav__link">
        美年旅游06
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../day07/%E7%BE%8E%E5%B9%B4%E5%9B%BD%E5%AE%BE%E9%A1%B9%E7%9B%AE%E8%AE%B2%E4%B9%89%EF%BC%88%E7%AC%AC7%E7%AB%A0%EF%BC%89/" class="md-nav__link">
        美年旅游07
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../day08/%E7%BE%8E%E5%B9%B4%E5%9B%BD%E5%AE%BE%E9%A1%B9%E7%9B%AE%E8%AE%B2%E4%B9%89%EF%BC%88%E7%AC%AC8%E7%AB%A0%EF%BC%89/" class="md-nav__link">
        美年旅游08
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          美年旅游09
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        美年旅游09
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-spring-security" class="md-nav__link">
    1. 第一章. 在项目中使用Spring Security
  </a>
  
    <nav class="md-nav" aria-label="1. 第一章. 在项目中使用Spring Security">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    【导入用户、角色、权限 的初始数据】
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    【目标】
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    【路径】
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    【讲解】
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#11-spring-security" class="md-nav__link">
    1.1. 导入Spring Security环境
  </a>
  
    <nav class="md-nav" aria-label="1.1. 导入Spring Security环境">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#111-pomxml" class="md-nav__link">
    1.1.1. 第一步：pom.xml导入坐标
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#112-webxml" class="md-nav__link">
    1.1.2. 第二步：web.xml添加代理过滤器
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12" class="md-nav__link">
    1.2. 实现认证和授权
  </a>
  
    <nav class="md-nav" aria-label="1.2. 实现认证和授权">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#121-springsecurityuserservicejava" class="md-nav__link">
    1.2.1. 第一步：SpringSecurityUserService.java
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#122-servicedaomapper" class="md-nav__link">
    1.2.2. 第二步：Service、Dao接口、Mapper映射文件
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#123-springmvcxml" class="md-nav__link">
    1.2.3. 第三步：springmvc.xml
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#124-spring-securityxml" class="md-nav__link">
    1.2.4. 第四步：spring-security.xml
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#125-springmvcxml" class="md-nav__link">
    1.2.5. 第五步：springmvc.xml
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#126-travelitemcontroller" class="md-nav__link">
    1.2.6. 第六步：TravelItemController类
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#127-travelitemhtml" class="md-nav__link">
    1.2.7. 第七步：travelitem.html
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#128-loginhtml" class="md-nav__link">
    1.2.8. 第八步：导入login.html页面
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13" class="md-nav__link">
    1.3. 显示用户名
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14" class="md-nav__link">
    1.4. 用户退出
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    【小结】
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-echarts" class="md-nav__link">
    2. 第二章. 图形报表ECharts
  </a>
  
    <nav class="md-nav" aria-label="2. 第二章. 图形报表ECharts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    【目标】
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    【路径】
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    【讲解】
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#21-echarts" class="md-nav__link">
    2.1. ECharts简介
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-5echarts" class="md-nav__link">
    2.2. 5分钟上手ECharts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-echarts" class="md-nav__link">
    2.3. 查看ECharts官方实例
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    【小结】
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    3. 第三章. 会员数量折线图
  </a>
  
    <nav class="md-nav" aria-label="3. 第三章. 会员数量折线图">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    【目标】
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    【路径】
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    【讲解】
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#31" class="md-nav__link">
    3.1. 需求分析
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32" class="md-nav__link">
    3.2. 前台代码
  </a>
  
    <nav class="md-nav" aria-label="3.2. 前台代码">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#321-echarts" class="md-nav__link">
    3.2.1. 导入ECharts库
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#322" class="md-nav__link">
    3.2.2. 参照官方实例导入折线图
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33" class="md-nav__link">
    3.3. 后台代码
  </a>
  
    <nav class="md-nav" aria-label="3.3. 后台代码">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#331-controller" class="md-nav__link">
    3.3.1. Controller
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#332" class="md-nav__link">
    3.3.2. 服务接口
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#333" class="md-nav__link">
    3.3.3. 服务实现类
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#334-dao" class="md-nav__link">
    3.3.4. Dao接口
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#335-mapper" class="md-nav__link">
    3.3.5. Mapper映射文件
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    【小结】
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../day10/%E7%BE%8E%E5%B9%B4%E5%9B%BD%E5%AE%BE%E9%A1%B9%E7%9B%AE%E8%AE%B2%E4%B9%89%EF%BC%88%E7%AC%AC10%E7%AB%A0%EF%BC%89/" class="md-nav__link">
        美年旅游10
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../day11/%E7%BE%8E%E5%B9%B4%E5%9B%BD%E5%AE%BE%E9%A1%B9%E7%9B%AE%E8%AE%B2%E4%B9%89%EF%BC%88%E7%AC%AC11%E7%AB%A0%EF%BC%89/" class="md-nav__link">
        美年旅游11
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_7_2" type="checkbox" id="__nav_1_7_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1_7_2">
          尚邻网
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="尚邻网" data-md-level="3">
        <label class="md-nav__title" for="__nav_1_7_2">
          <span class="md-nav__icon md-icon"></span>
          尚邻网
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E9%82%BB%E7%BD%91/1.%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83/" class="md-nav__link">
        搭建环境
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E9%82%BB%E7%BD%91/2.%E7%94%A8%E6%88%B7%E8%A7%92%E8%89%B2%E7%AE%A1%E7%90%86/" class="md-nav__link">
        用户角色管理
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E9%82%BB%E7%BD%91/3.Apache%20Dubbo/" class="md-nav__link">
        Apache Dubbo
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E9%82%BB%E7%BD%91/4.%E6%9C%8D%E5%8A%A1%E6%8B%86%E5%88%86/" class="md-nav__link">
        服务拆分
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E9%82%BB%E7%BD%91/5.%E4%BA%8C%E6%89%8B%E6%88%BF%E7%AE%A1%E7%90%86/" class="md-nav__link">
        二手房管理
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E9%82%BB%E7%BD%91/6.%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0/" class="md-nav__link">
        图片上传
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E9%82%BB%E7%BD%91/7.%E5%89%8D%E7%AB%AF%E6%88%BF%E6%BA%90%E5%B1%95%E7%A4%BA/" class="md-nav__link">
        前端房源展示
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E9%82%BB%E7%BD%91/8.%E5%89%8D%E7%AB%AF%E7%99%BB%E5%BD%95%E4%B8%8E%E6%B3%A8%E5%86%8C%E4%B8%8E%E5%85%B3%E6%B3%A8/" class="md-nav__link">
        前端登录与注册与关注
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E9%82%BB%E7%BD%91/9.%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86/" class="md-nav__link">
        权限管理
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E9%82%BB%E7%BD%91/10.spring%20security/" class="md-nav__link">
        spring security
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E9%82%BB%E7%BD%91/11.session%E5%85%B1%E4%BA%AB/" class="md-nav__link">
        session共享
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_7_3" type="checkbox" id="__nav_1_7_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1_7_3">
          谷粒商城
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="谷粒商城" data-md-level="3">
        <label class="md-nav__title" for="__nav_1_7_3">
          <span class="md-nav__icon md-icon"></span>
          谷粒商城
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%B5%E5%95%86/1.%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%EF%BC%88nginx%E3%80%81cors%E3%80%81oss%EF%BC%89/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/" class="md-nav__link">
        谷粒商城01
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%B5%E5%95%86/2.%E5%88%86%E7%B1%BB%E3%80%81%E8%A7%84%E6%A0%BC%E3%80%81%E5%95%86%E5%93%81%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5/%E8%A7%84%E6%A0%BC%E5%8F%82%E6%95%B0%E5%8F%8A%E5%95%86%E5%93%81%E6%96%B0%E5%A2%9E/" class="md-nav__link">
        谷粒商城02
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%B5%E5%95%86/3.%E6%9C%AC%E5%9C%B0%E4%BA%8B%E5%8A%A1%E3%80%81%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1%E5%8F%8Aseata/%E6%9C%AC%E5%9C%B0%E4%BA%8B%E5%8A%A1%E3%80%81%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1%E5%8F%8Aseata/" class="md-nav__link">
        谷粒商城03
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%B5%E5%95%86/4.elasticsearch%28DSL%E5%8F%8ASpringData-Elasticsearch%29/elasticsearch/" class="md-nav__link">
        谷粒商城04
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%B5%E5%95%86/5.%E5%95%86%E5%93%81%E6%90%9C%E7%B4%A2/%E5%95%86%E5%93%81%E6%90%9C%E7%B4%A2/" class="md-nav__link">
        谷粒商城05
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%B5%E5%95%86/6.%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E%EF%BC%88Thymeleaf%EF%BC%89%E5%8F%8A%E6%90%9C%E7%B4%A2%E9%A1%B5%E6%B8%B2%E6%9F%93/%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E-Thymeleaf/" class="md-nav__link">
        谷粒商城06
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%B5%E5%95%86/7.%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%EF%BC%88RabbitMQ%EF%BC%89/%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5/" class="md-nav__link">
        谷粒商城07
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%B5%E5%95%86/8.%E5%95%86%E5%93%81%E5%88%86%E7%B1%BB%28%E7%BC%93%E5%AD%98%E3%80%81%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E3%80%81Redisson%E3%80%81%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8%29/%E9%A6%96%E9%A1%B5%E5%95%86%E5%93%81%E5%88%86%E7%B1%BB/" class="md-nav__link">
        谷粒商城08
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%B5%E5%95%86/9.%E5%95%86%E5%93%81%E8%AF%A6%E6%83%85%E9%A1%B5%E5%8F%8A%E5%BC%82%E6%AD%A5%E7%BC%96%E6%8E%92%EF%BC%88CompletableFuture%EF%BC%89/%E5%95%86%E5%93%81%E8%AF%A6%E6%83%85%E9%A1%B5/" class="md-nav__link">
        谷粒商城09
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%B5%E5%95%86/10.%E5%8D%95%E7%82%B9%E7%99%BB%E5%BD%95%EF%BC%88jwt%EF%BC%89/%E5%8D%95%E7%82%B9%E7%99%BB%E5%BD%95%EF%BC%88jwt%EF%BC%89/" class="md-nav__link">
        谷粒商城10
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%B5%E5%95%86/11.%E8%B4%AD%E7%89%A9%E8%BD%A6%EF%BC%88SpringTask%EF%BC%89/%E8%B4%AD%E7%89%A9%E8%BD%A6/" class="md-nav__link">
        谷粒商城11
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%B5%E5%95%86/12.%E5%88%86%E5%B8%83%E5%BC%8F%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%EF%BC%88xxl-job%EF%BC%89/%E5%88%86%E5%B8%83%E5%BC%8F%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%EF%BC%88xxl-job%EF%BC%89/" class="md-nav__link">
        谷粒商城12
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%B5%E5%95%86/13.%E8%AE%A2%E5%8D%95%E3%80%81%E5%BA%93%E5%AD%98/%E8%AE%A2%E5%8D%95%E3%80%81%E5%BA%93%E5%AD%98/" class="md-nav__link">
        谷粒商城13
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E7%94%B5%E5%95%86/14.%E6%94%AF%E4%BB%98%E3%80%81%E7%A7%92%E6%9D%80/%E6%94%AF%E4%BB%98%E3%80%81%E7%A7%92%E6%9D%80/" class="md-nav__link">
        谷粒商城14
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_7_4" type="checkbox" id="__nav_1_7_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1_7_4">
          尚融宝
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="尚融宝" data-md-level="3">
        <label class="md-nav__title" for="__nav_1_7_4">
          <span class="md-nav__icon md-icon"></span>
          尚融宝
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E8%9E%8D%E5%AE%9D/Part01-%E9%A1%B9%E7%9B%AE%E4%BB%8B%E7%BB%8D/Part01-%E9%A1%B9%E7%9B%AE%E4%BB%8B%E7%BB%8D/" class="md-nav__link">
        项目介绍
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E8%9E%8D%E5%AE%9D/Part02-MyBatis-Plus/Part02-MyBatis-Plus/" class="md-nav__link">
        MyBatis-Plus
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E8%9E%8D%E5%AE%9D/Part03-%E5%90%8E%E7%AB%AF%E6%8E%A5%E5%8F%A3%E5%B7%A5%E7%A8%8B%E6%90%AD%E5%BB%BA/Part03-%E5%90%8E%E7%AB%AF%E6%8E%A5%E5%8F%A3%E5%B7%A5%E7%A8%8B%E6%90%AD%E5%BB%BA/" class="md-nav__link">
        后端接口工程搭建
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E8%9E%8D%E5%AE%9D/Part04-%E5%89%8D%E7%AB%AF%E7%9F%A5%E8%AF%86/Part04-%E5%89%8D%E7%AB%AF%E7%9F%A5%E8%AF%86/" class="md-nav__link">
        前端知识
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E8%9E%8D%E5%AE%9D/Part05-%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0%E5%89%8D%E7%AB%AF%E6%90%AD%E5%BB%BA/Part05-%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0%E5%89%8D%E7%AB%AF%E6%90%AD%E5%BB%BA/" class="md-nav__link">
        管理平台前端搭建
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E8%9E%8D%E5%AE%9D/Part06-Alibaba%20EasyExcel/Part06-Alibaba%20EasyExcel/" class="md-nav__link">
        Alibaba EasyExcel
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E8%9E%8D%E5%AE%9D/Part07-%E6%95%B0%E6%8D%AE%E5%AD%97%E5%85%B8/Part07-%E6%95%B0%E6%8D%AE%E5%AD%97%E5%85%B8/" class="md-nav__link">
        数据字典
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E8%9E%8D%E5%AE%9D/Part08-Redis%E7%BC%93%E5%AD%98/Part08-Redis%E7%BC%93%E5%AD%98/" class="md-nav__link">
        Redis缓存
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E8%9E%8D%E5%AE%9D/Part09-NuxtJS%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E6%B8%B2%E6%9F%93/Part09-NuxtJS%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E6%B8%B2%E6%9F%93/" class="md-nav__link">
        NuxtJS服务器端渲染
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E8%9E%8D%E5%AE%9D/Part10-%E9%98%BF%E9%87%8C%E4%BA%91%E7%9F%AD%E4%BF%A1/Part10-%E9%98%BF%E9%87%8C%E4%BA%91%E7%9F%AD%E4%BF%A1/" class="md-nav__link">
        阿里云短信
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../java课程/项目文档/尚融宝/Part11-分布式文件系统-阿里云OSS/分布式文件系统-阿里云OSS" class="md-nav__link">
        阿里云OSS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E8%9E%8D%E5%AE%9D/Part12-%E7%94%A8%E6%88%B7%E6%B3%A8%E5%86%8C/Part12-%E7%94%A8%E6%88%B7%E6%B3%A8%E5%86%8C/" class="md-nav__link">
        用户注册
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E8%9E%8D%E5%AE%9D/Part13-%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%89%E5%85%A8-%E8%AE%BF%E9%97%AE%E4%BB%A4%E7%89%8C/Part13-%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%89%E5%85%A8-%E8%AE%BF%E9%97%AE%E4%BB%A4%E7%89%8C/" class="md-nav__link">
        访问令牌
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E8%9E%8D%E5%AE%9D/Part14-%E7%94%A8%E6%88%B7%E8%AE%A4%E8%AF%81/Part14-%E7%94%A8%E6%88%B7%E8%AE%A4%E8%AF%81/" class="md-nav__link">
        用户认证
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E8%9E%8D%E5%AE%9D/Part15-%E4%BC%9A%E5%91%98%E7%AE%A1%E7%90%86/Part15-%E4%BC%9A%E5%91%98%E7%AE%A1%E7%90%86/" class="md-nav__link">
        会员管理
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E8%9E%8D%E5%AE%9D/Part16-%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%89%E5%85%A8-OAuth2/Part16-%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%89%E5%85%A8-OAuth2/" class="md-nav__link">
        OAuth2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E8%9E%8D%E5%AE%9D/Part17-%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/Part17-%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/" class="md-nav__link">
        内网穿透
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E8%9E%8D%E5%AE%9D/Part18-%E5%BE%AE%E4%BF%A1%E7%99%BB%E5%BD%95/Part18-%E5%BE%AE%E4%BF%A1%E7%99%BB%E5%BD%95/" class="md-nav__link">
        微信登录
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E8%9E%8D%E5%AE%9D/Part19-%20SpringCloud/Part19-%20SpringCloud/" class="md-nav__link">
        SpringCloud
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E8%9E%8D%E5%AE%9D/Part20-%E8%B4%A6%E6%88%B7%E7%BB%91%E5%AE%9A/Part20-%E8%B4%A6%E6%88%B7%E7%BB%91%E5%AE%9A/" class="md-nav__link">
        账户绑定
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E8%9E%8D%E5%AE%9D/Part21-%E7%94%B3%E8%AF%B7%E5%80%9F%E6%AC%BE%E9%A2%9D%E5%BA%A6/Part21-%E7%94%B3%E8%AF%B7%E5%80%9F%E6%AC%BE%E9%A2%9D%E5%BA%A6/" class="md-nav__link">
        申请借款额度
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E8%9E%8D%E5%AE%9D/Part22-%E5%80%9F%E6%AC%BE%E9%A2%9D%E5%BA%A6%E5%AE%A1%E6%A0%B8/Part22-%E5%80%9F%E6%AC%BE%E9%A2%9D%E5%BA%A6%E5%AE%A1%E6%A0%B8/" class="md-nav__link">
        借款额度审核
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E8%9E%8D%E5%AE%9D/Part23-%E5%80%9F%E6%AC%BE%E7%94%B3%E8%AF%B7/Part23-%E5%80%9F%E6%AC%BE%E7%94%B3%E8%AF%B7/" class="md-nav__link">
        借款申请
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E8%9E%8D%E5%AE%9D/Part24-%E5%80%9F%E6%AC%BE%E5%AE%A1%E6%A0%B8/Part24-%E5%80%9F%E6%AC%BE%E5%AE%A1%E6%A0%B8/" class="md-nav__link">
        借款审核
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E8%9E%8D%E5%AE%9D/Part25-%E6%A0%87%E7%9A%84%E7%AE%A1%E7%90%86/Part25-%E6%A0%87%E7%9A%84%E7%AE%A1%E7%90%86/" class="md-nav__link">
        标的管理
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E8%9E%8D%E5%AE%9D/Part26-%E6%88%91%E8%A6%81%E6%8A%95%E8%B5%84/Part26-%E6%88%91%E8%A6%81%E6%8A%95%E8%B5%84/" class="md-nav__link">
        我要投资
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E8%9E%8D%E5%AE%9D/Part27-%E5%85%85%E5%80%BC/Part27-%E5%85%85%E5%80%BC/" class="md-nav__link">
        充值
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E8%9E%8D%E5%AE%9D/Part28-%E6%8A%95%E6%A0%87/Part28-%E6%8A%95%E6%A0%87/" class="md-nav__link">
        投标
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E8%9E%8D%E5%AE%9D/Part29-%E6%94%BE%E6%AC%BE/Part29-%E6%94%BE%E6%AC%BE/" class="md-nav__link">
        放款
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E8%9E%8D%E5%AE%9D/Part30-%E6%8A%95%E8%B5%84%E5%88%97%E8%A1%A8%E5%B1%95%E7%A4%BA/Part30-%E6%8A%95%E8%B5%84%E5%88%97%E8%A1%A8%E5%B1%95%E7%A4%BA/" class="md-nav__link">
        投资列表展示
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E8%9E%8D%E5%AE%9D/Part31-%E6%8F%90%E7%8E%B0%E5%92%8C%E8%BF%98%E6%AC%BE/Part31-%E6%8F%90%E7%8E%B0%E5%92%8C%E8%BF%98%E6%AC%BE/" class="md-nav__link">
        提现和还款
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E8%9E%8D%E5%AE%9D/Part32-%E4%B8%AA%E4%BA%BA%E4%B8%AD%E5%BF%83/Part32-%E4%B8%AA%E4%BA%BA%E4%B8%AD%E5%BF%83/" class="md-nav__link">
        个人中心
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E8%9E%8D%E5%AE%9D/Part33-%E7%BD%91%E5%85%B3/Part33-%E7%BD%91%E5%85%B3/" class="md-nav__link">
        网关
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E8%9E%8D%E5%AE%9D/Part34-%E8%A1%A5%E5%85%85/Part34-%E8%A1%A5%E5%85%85/" class="md-nav__link">
        补充
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E8%9E%8D%E5%AE%9D/Part35-%E5%BE%AE%E4%BF%A1%E6%94%AF%E4%BB%98/Part35-%E5%BE%AE%E4%BF%A1%E6%94%AF%E4%BB%98/" class="md-nav__link">
        微信支付
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1_7_5" type="checkbox" id="__nav_1_7_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1_7_5">
          尚医通
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="尚医通" data-md-level="3">
        <label class="md-nav__title" for="__nav_1_7_5">
          <span class="md-nav__icon md-icon"></span>
          尚医通
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E5%8C%BB%E9%80%9A/day01%20%E9%A1%B9%E7%9B%AE%E4%BB%8B%E7%BB%8D%E4%B8%8EMyBatis%20Plus/day01%20%E9%A1%B9%E7%9B%AE%E4%BB%8B%E7%BB%8D%E4%B8%8E%20Mybatis%20Plus/" class="md-nav__link">
        项目介绍
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E5%8C%BB%E9%80%9A/day02%20%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%92%8C%E5%8C%BB%E9%99%A2%E8%AE%BE%E7%BD%AE/day02%20%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83%E5%92%8C%E5%8C%BB%E9%99%A2%E8%AE%BE%E7%BD%AE/" class="md-nav__link">
        搭建环境和医院设置
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E5%8C%BB%E9%80%9A/day03%20%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%EF%BC%88%E4%B8%80%EF%BC%89/day03%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%EF%BC%88%E4%B8%80%EF%BC%89/" class="md-nav__link">
        前端基础知识（一）
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E5%8C%BB%E9%80%9A/day04%20%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%EF%BC%88%E4%BA%8C%EF%BC%89/day04%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" class="md-nav__link">
        前端基础知识（二）
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E5%8C%BB%E9%80%9A/day05%E5%B9%B3%E5%8F%B0%E7%AE%A1%E7%90%86%E5%89%8D%E7%AB%AF%E6%90%AD%E5%BB%BA/day05%E5%B9%B3%E5%8F%B0%E7%AE%A1%E7%90%86%E5%89%8D%E7%AB%AF%E6%90%AD%E5%BB%BA/" class="md-nav__link">
        平台管理前端搭建
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E5%8C%BB%E9%80%9A/day06%E6%95%B0%E6%8D%AE%E5%AD%97%E5%85%B8/day06%E6%95%B0%E6%8D%AE%E5%AD%97%E5%85%B8/" class="md-nav__link">
        数据字典
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E5%8C%BB%E9%80%9A/day07mongodb/day07mongodb/" class="md-nav__link">
        mongodb
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E5%8C%BB%E9%80%9A/day08%E5%8C%BB%E9%99%A2%E4%B8%8A%E4%BC%A0%E6%8E%A5%E5%8F%A3/day08%E5%8C%BB%E9%99%A2%E4%B8%8A%E4%BC%A0%E6%8E%A5%E5%8F%A3/" class="md-nav__link">
        医院上传接口
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E5%8C%BB%E9%80%9A/day09%E5%8C%BB%E9%99%A2%E7%AE%A1%E7%90%86/day09%E5%8C%BB%E9%99%A2%E7%AE%A1%E7%90%86/" class="md-nav__link">
        医院管理
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E5%8C%BB%E9%80%9A/day10%E6%8E%92%E7%8F%AD%E7%AE%A1%E7%90%86%E5%92%8C%E7%BD%91%E5%85%B3/day10%E6%8E%92%E7%8F%AD%E7%AE%A1%E7%90%86%E5%92%8C%E7%BD%91%E5%85%B3/" class="md-nav__link">
        排班管理和网关
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E5%8C%BB%E9%80%9A/day11%E5%B9%B3%E5%8F%B0%E5%89%8D%E7%AB%AF%E6%90%AD%E5%BB%BA%E4%B8%8E%E9%A6%96%E9%A1%B5/day11%E5%B9%B3%E5%8F%B0%E5%89%8D%E7%AB%AF%E6%90%AD%E5%BB%BA%E4%B8%8E%E9%A6%96%E9%A1%B5/" class="md-nav__link">
        平台前端搭建与首页
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E5%8C%BB%E9%80%9A/day12%E6%89%8B%E6%9C%BA%E7%99%BB%E5%BD%95/day12%E6%89%8B%E6%9C%BA%E7%99%BB%E5%BD%95/" class="md-nav__link">
        手机登录
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E5%8C%BB%E9%80%9A/day13%E5%BE%AE%E4%BF%A1%E7%99%BB%E5%BD%95/day13%E5%BE%AE%E4%BF%A1%E7%99%BB%E5%BD%95/" class="md-nav__link">
        微信登录
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E5%8C%BB%E9%80%9A/day14%E9%98%BF%E9%87%8C%E4%BA%91OSS%E3%80%81%E7%94%A8%E6%88%B7%E8%AE%A4%E8%AF%81%E4%B8%8E%E5%B0%B1%E8%AF%8A%E4%BA%BA/day14%E9%98%BF%E9%87%8C%E4%BA%91OSS%E3%80%81%E7%94%A8%E6%88%B7%E8%AE%A4%E8%AF%81%E4%B8%8E%E5%B0%B1%E8%AF%8A%E4%BA%BA/" class="md-nav__link">
        阿里云OSS、用户认证与就诊人
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E5%8C%BB%E9%80%9A/day15%E9%A2%84%E7%BA%A6%E6%8C%82%E5%8F%B7/day15%E9%A2%84%E7%BA%A6%E6%8C%82%E5%8F%B7/" class="md-nav__link">
        预约挂号
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E5%8C%BB%E9%80%9A/day16%E9%A2%84%E7%BA%A6%E4%B8%8B%E5%8D%95/day16%E9%A2%84%E7%BA%A6%E4%B8%8B%E5%8D%95/" class="md-nav__link">
        预约下单
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E5%8C%BB%E9%80%9A/day17%E5%BE%AE%E4%BF%A1%E6%94%AF%E4%BB%98/day17%E5%BE%AE%E4%BF%A1%E6%94%AF%E4%BB%98/" class="md-nav__link">
        微信支付
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../%E5%B0%9A%E5%8C%BB%E9%80%9A/day18%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%E4%B8%8E%E7%BB%9F%E8%AE%A1/day18%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%E4%B8%8E%E7%BB%9F%E8%AE%A1/" class="md-nav__link">
        定时任务与统计
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Java就业面试
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Java就业面试" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Java就业面试
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../java%E9%9D%A2%E8%AF%95%E9%A2%98/%E7%AC%AC1%E7%AB%A0%20%E9%9D%A2%E8%AF%95%E8%AF%B4%E6%98%8E/" class="md-nav__link">
        第1章 面试说明
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../java%E9%9D%A2%E8%AF%95%E9%A2%98/%E7%AC%AC2%E7%AB%A0%20%E6%89%8B%E5%86%99%E4%BB%A3%E7%A0%81/" class="md-nav__link">
        第2章 手写代码
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../java%E9%9D%A2%E8%AF%95%E9%A2%98/%E7%AC%AC3%E7%AB%A0%20JavaSE/" class="md-nav__link">
        第3章 JavaSE
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../java%E9%9D%A2%E8%AF%95%E9%A2%98/%E7%AC%AC4%E7%AB%A0%20JVM/" class="md-nav__link">
        第4章 JVM
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../java%E9%9D%A2%E8%AF%95%E9%A2%98/%E7%AC%AC5%E7%AB%A0%20%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" class="md-nav__link">
        第5章 设计模式
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../java%E9%9D%A2%E8%AF%95%E9%A2%98/%E7%AC%AC6%E7%AB%A0%20MySql/" class="md-nav__link">
        第6章 MySql
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../java%E9%9D%A2%E8%AF%95%E9%A2%98/%E7%AC%AC7%E7%AB%A0%20Java%20Web/" class="md-nav__link">
        第7章 Java Web
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../java%E9%9D%A2%E8%AF%95%E9%A2%98/%E7%AC%AC8%E7%AB%A0%20SSM%E6%A1%86%E6%9E%B6/" class="md-nav__link">
        第8章 SSM框架
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../java%E9%9D%A2%E8%AF%95%E9%A2%98/%E7%AC%AC9%E7%AB%A0%20SpringBoot/" class="md-nav__link">
        第9章 SpringBoot
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../java%E9%9D%A2%E8%AF%95%E9%A2%98/%E7%AC%AC10%E7%AB%A0%20SpringCloud/" class="md-nav__link">
        第10章 SpringCloud
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../java%E9%9D%A2%E8%AF%95%E9%A2%98/%E7%AC%AC11%E7%AB%A0%20Redis/" class="md-nav__link">
        第11章 Redis
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../java%E9%9D%A2%E8%AF%95%E9%A2%98/%E7%AC%AC12%E7%AB%A0%20MQ/" class="md-nav__link">
        第12章 MQ
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../java%E9%9D%A2%E8%AF%95%E9%A2%98/%E7%AC%AC13%E7%AB%A0%20ElasticSearch/" class="md-nav__link">
        第13章 ElasticSearch
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../java%E9%9D%A2%E8%AF%95%E9%A2%98/%E7%AC%AC14%E7%AB%A0%20Dubbo/" class="md-nav__link">
        第14章 Dubbo
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../java%E9%9D%A2%E8%AF%95%E9%A2%98/%E7%AC%AC15%E7%AB%A0%20Zookeeper/" class="md-nav__link">
        第15章 Zookeeper
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../java%E9%9D%A2%E8%AF%95%E9%A2%98/%E7%AC%AC16%E7%AB%A0%20Git/" class="md-nav__link">
        第16章 Git
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../java%E9%9D%A2%E8%AF%95%E9%A2%98/%E7%AC%AC17%E7%AB%A0%20Linux/" class="md-nav__link">
        第17章 Linux
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../.." class="md-nav__link">
        学习文档
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-spring-security" class="md-nav__link">
    1. 第一章. 在项目中使用Spring Security
  </a>
  
    <nav class="md-nav" aria-label="1. 第一章. 在项目中使用Spring Security">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    【导入用户、角色、权限 的初始数据】
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    【目标】
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    【路径】
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    【讲解】
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#11-spring-security" class="md-nav__link">
    1.1. 导入Spring Security环境
  </a>
  
    <nav class="md-nav" aria-label="1.1. 导入Spring Security环境">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#111-pomxml" class="md-nav__link">
    1.1.1. 第一步：pom.xml导入坐标
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#112-webxml" class="md-nav__link">
    1.1.2. 第二步：web.xml添加代理过滤器
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12" class="md-nav__link">
    1.2. 实现认证和授权
  </a>
  
    <nav class="md-nav" aria-label="1.2. 实现认证和授权">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#121-springsecurityuserservicejava" class="md-nav__link">
    1.2.1. 第一步：SpringSecurityUserService.java
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#122-servicedaomapper" class="md-nav__link">
    1.2.2. 第二步：Service、Dao接口、Mapper映射文件
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#123-springmvcxml" class="md-nav__link">
    1.2.3. 第三步：springmvc.xml
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#124-spring-securityxml" class="md-nav__link">
    1.2.4. 第四步：spring-security.xml
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#125-springmvcxml" class="md-nav__link">
    1.2.5. 第五步：springmvc.xml
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#126-travelitemcontroller" class="md-nav__link">
    1.2.6. 第六步：TravelItemController类
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#127-travelitemhtml" class="md-nav__link">
    1.2.7. 第七步：travelitem.html
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#128-loginhtml" class="md-nav__link">
    1.2.8. 第八步：导入login.html页面
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13" class="md-nav__link">
    1.3. 显示用户名
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14" class="md-nav__link">
    1.4. 用户退出
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    【小结】
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-echarts" class="md-nav__link">
    2. 第二章. 图形报表ECharts
  </a>
  
    <nav class="md-nav" aria-label="2. 第二章. 图形报表ECharts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    【目标】
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    【路径】
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    【讲解】
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#21-echarts" class="md-nav__link">
    2.1. ECharts简介
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-5echarts" class="md-nav__link">
    2.2. 5分钟上手ECharts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-echarts" class="md-nav__link">
    2.3. 查看ECharts官方实例
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    【小结】
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    3. 第三章. 会员数量折线图
  </a>
  
    <nav class="md-nav" aria-label="3. 第三章. 会员数量折线图">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    【目标】
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    【路径】
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    【讲解】
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#31" class="md-nav__link">
    3.1. 需求分析
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32" class="md-nav__link">
    3.2. 前台代码
  </a>
  
    <nav class="md-nav" aria-label="3.2. 前台代码">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#321-echarts" class="md-nav__link">
    3.2.1. 导入ECharts库
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#322" class="md-nav__link">
    3.2.2. 参照官方实例导入折线图
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33" class="md-nav__link">
    3.3. 后台代码
  </a>
  
    <nav class="md-nav" aria-label="3.3. 后台代码">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#331-controller" class="md-nav__link">
    3.3.1. Controller
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#332" class="md-nav__link">
    3.3.2. 服务接口
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#333" class="md-nav__link">
    3.3.3. 服务实现类
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#334-dao" class="md-nav__link">
    3.3.4. Dao接口
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#335-mapper" class="md-nav__link">
    3.3.5. Mapper映射文件
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    【小结】
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                

<h1 id="_1">权限控制、图形报表<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h1>
<p>1：掌握Spring Security实现认证的过程</p>
<p>2：掌握Spring Security实现授权的过程</p>
<p>3：了解Echarts</p>
<p>4：掌握Echarts实现会员数量折线图的实现过程</p>
<h2 id="1-spring-security">1. <strong>第一章</strong>. 在项目中使用Spring Security<a class="headerlink" href="#1-spring-security" title="Permanent link">&para;</a></h2>
<p>前面我们已经学习了Spring Security框架的使用方法，本章节我们就需要将Spring Security框架应用到后台系统中进行权限控制，其本质就是认证和授权。</p>
<p>要进行认证和授权需要前面课程中提到的权限模型涉及的7张表支撑，因为用户信息、权限信息、菜单信息、角色信息、关联信息等都保存在这7张表中，也就是这些表中的数据是我们进行认证和授权的依据。所以在真正进行认证和授权之前需要对这些数据进行管理，即我们需要开发如下一些功能：</p>
<p>1、用户数据管理（增删改查、用户关联角色）</p>
<p>2、角色数据管理（增删改查、角色关联权限、角色关联菜单）</p>
<p>3、权限数据管理（增删改查）</p>
<p>鉴于时间关系，我们不再实现这些数据管理的代码开发。我们可以直接将数据导入到数据库中即可。</p>
<h3 id="_2">【导入用户、角色、权限 的初始数据】<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">DROP</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="n n-Quoted">`t_user`</span><span class="p">;</span><span class="w"></span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n n-Quoted">`t_user`</span><span class="w"> </span><span class="p">(</span><span class="w"></span>
<span class="w">  </span><span class="n n-Quoted">`id`</span><span class="w"> </span><span class="kt">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="no">NULL</span><span class="w"> </span><span class="k">AUTO_INCREMENT</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n n-Quoted">`birthday`</span><span class="w"> </span><span class="kt">date</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="no">NULL</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n n-Quoted">`gender`</span><span class="w"> </span><span class="kt">varchar</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="no">NULL</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n n-Quoted">`username`</span><span class="w"> </span><span class="kt">varchar</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="no">NULL</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n n-Quoted">`password`</span><span class="w"> </span><span class="kt">varchar</span><span class="p">(</span><span class="mi">256</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="no">NULL</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n n-Quoted">`remark`</span><span class="w"> </span><span class="kt">varchar</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="no">NULL</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n n-Quoted">`station`</span><span class="w"> </span><span class="kt">varchar</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="no">NULL</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n n-Quoted">`telephone`</span><span class="w"> </span><span class="kt">varchar</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="no">NULL</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n n-Quoted">`id`</span><span class="p">)</span><span class="w"></span>
<span class="p">)</span><span class="w"> </span><span class="k">ENGINE</span><span class="o">=</span><span class="n">InnoDB</span><span class="w"> </span><span class="k">AUTO_INCREMENT</span><span class="o">=</span><span class="mi">4</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CHARSET</span><span class="o">=</span><span class="n">utf8</span><span class="p">;</span><span class="w"></span>



<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_user`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;admin&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;$2a$10$u/BcsUUqZNWUxdmDhbnoeeobJy6IBsL1Gn/S0dMxI2RbSgnMKJ.4a&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_user`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;xiaoming&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;$2a$10$3xW2nBjwBM3rx1LoYprVsemNri5bvxeOd/QfmO7UDFQhW2HRHLi.C&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_user`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;test&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;$2a$10$zYJRscVUgHX1wqwu90WereuTmIg6h/JGirGG4SWBsZ60wVPCgtF8W&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">);</span><span class="w"></span>





<span class="k">DROP</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="n n-Quoted">`t_role`</span><span class="p">;</span><span class="w"></span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n n-Quoted">`t_role`</span><span class="w"> </span><span class="p">(</span><span class="w"></span>
<span class="w">  </span><span class="n n-Quoted">`id`</span><span class="w"> </span><span class="kt">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="no">NULL</span><span class="w"> </span><span class="k">AUTO_INCREMENT</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n n-Quoted">`name`</span><span class="w"> </span><span class="kt">varchar</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="no">NULL</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n n-Quoted">`keyword`</span><span class="w"> </span><span class="kt">varchar</span><span class="p">(</span><span class="mi">64</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="no">NULL</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n n-Quoted">`description`</span><span class="w"> </span><span class="kt">varchar</span><span class="p">(</span><span class="mi">128</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="no">NULL</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n n-Quoted">`id`</span><span class="p">)</span><span class="w"></span>
<span class="p">)</span><span class="w"> </span><span class="k">ENGINE</span><span class="o">=</span><span class="n">InnoDB</span><span class="w"> </span><span class="k">AUTO_INCREMENT</span><span class="o">=</span><span class="mi">3</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CHARSET</span><span class="o">=</span><span class="n">utf8</span><span class="p">;</span><span class="w"></span>



<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_role`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;系统管理员&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;ROLE_ADMIN&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_role`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;导游&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;ROLE_HEALTH_MANAGER&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">);</span><span class="w"></span>




<span class="k">DROP</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="n n-Quoted">`t_user_role`</span><span class="p">;</span><span class="w"></span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n n-Quoted">`t_user_role`</span><span class="w"> </span><span class="p">(</span><span class="w"></span>
<span class="w">  </span><span class="n n-Quoted">`user_id`</span><span class="w"> </span><span class="kt">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="no">NULL</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n n-Quoted">`role_id`</span><span class="w"> </span><span class="kt">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="no">NULL</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n n-Quoted">`user_id`</span><span class="p">,</span><span class="n n-Quoted">`role_id`</span><span class="p">),</span><span class="w"></span>
<span class="w">  </span><span class="k">KEY</span><span class="w"> </span><span class="n n-Quoted">`FK_Reference_8`</span><span class="w"> </span><span class="p">(</span><span class="n n-Quoted">`role_id`</span><span class="p">),</span><span class="w"></span>
<span class="w">  </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n n-Quoted">`FK_Reference_7`</span><span class="w"> </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n n-Quoted">`user_id`</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n n-Quoted">`t_user`</span><span class="w"> </span><span class="p">(</span><span class="n n-Quoted">`id`</span><span class="p">),</span><span class="w"></span>
<span class="w">  </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n n-Quoted">`FK_Reference_8`</span><span class="w"> </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n n-Quoted">`role_id`</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n n-Quoted">`t_role`</span><span class="w"> </span><span class="p">(</span><span class="n n-Quoted">`id`</span><span class="p">)</span><span class="w"></span>
<span class="p">)</span><span class="w"> </span><span class="k">ENGINE</span><span class="o">=</span><span class="n">InnoDB</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CHARSET</span><span class="o">=</span><span class="n">utf8</span><span class="p">;</span><span class="w"></span>


<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_user_role`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;1&#39;</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_user_role`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2&#39;</span><span class="p">);</span><span class="w"></span>



<span class="k">DROP</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="n n-Quoted">`t_permission`</span><span class="p">;</span><span class="w"></span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n n-Quoted">`t_permission`</span><span class="w"> </span><span class="p">(</span><span class="w"></span>
<span class="w">  </span><span class="n n-Quoted">`id`</span><span class="w"> </span><span class="kt">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="no">NULL</span><span class="w"> </span><span class="k">AUTO_INCREMENT</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n n-Quoted">`name`</span><span class="w"> </span><span class="kt">varchar</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="no">NULL</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n n-Quoted">`keyword`</span><span class="w"> </span><span class="kt">varchar</span><span class="p">(</span><span class="mi">64</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="no">NULL</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n n-Quoted">`description`</span><span class="w"> </span><span class="kt">varchar</span><span class="p">(</span><span class="mi">128</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="no">NULL</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n n-Quoted">`id`</span><span class="p">)</span><span class="w"></span>
<span class="p">)</span><span class="w"> </span><span class="k">ENGINE</span><span class="o">=</span><span class="n">InnoDB</span><span class="w"> </span><span class="k">AUTO_INCREMENT</span><span class="o">=</span><span class="mi">27</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CHARSET</span><span class="o">=</span><span class="n">utf8</span><span class="p">;</span><span class="w"></span>




<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;新增自由行&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;TRAVELITEM_ADD&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;删除自由行&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;TRAVELITEM_DELETE&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;编辑自由行&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;TRAVELITEM_EDIT&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;4&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;查询自由行&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;TRAVELITEM_QUERY&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;5&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;新增跟团游&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;TRAVELGROUP_ADD&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;6&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;删除跟团游&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;TRAVELGROUP_DELETE&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;7&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;编辑跟团游&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;TRAVELGROUP_EDIT&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;8&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;查询跟团游&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;TRAVELGROUP_QUERY&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;9&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;新增套餐&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;SETMEAL_ADD&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;10&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;删除套餐&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;SETMEAL_DELETE&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;11&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;编辑套餐&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;SETMEAL_EDIT&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;12&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;查询套餐&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;SETMEAL_QUERY&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;13&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;预约设置&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;ORDERSETTING&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;14&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;查看统计报表&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;REPORT_VIEW&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;15&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;新增菜单&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;MENU_ADD&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;16&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;删除菜单&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;MENU_DELETE&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;17&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;编辑菜单&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;MENU_EDIT&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;18&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;查询菜单&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;MENU_QUERY&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;19&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;新增角色&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;ROLE_ADD&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;20&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;删除角色&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;ROLE_DELETE&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;21&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;编辑角色&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;ROLE_EDIT&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;22&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;查询角色&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;ROLE_QUERY&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;23&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;新增用户&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;USER_ADD&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;24&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;删除用户&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;USER_DELETE&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;25&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;编辑用户&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;USER_EDIT&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;26&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;查询用户&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;USER_QUERY&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">);</span><span class="w"></span>







<span class="k">DROP</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="n n-Quoted">`t_role_permission`</span><span class="p">;</span><span class="w"></span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n n-Quoted">`t_role_permission`</span><span class="w"> </span><span class="p">(</span><span class="w"></span>
<span class="w">  </span><span class="n n-Quoted">`role_id`</span><span class="w"> </span><span class="kt">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="no">NULL</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n n-Quoted">`permission_id`</span><span class="w"> </span><span class="kt">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="no">NULL</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n n-Quoted">`role_id`</span><span class="p">,</span><span class="n n-Quoted">`permission_id`</span><span class="p">),</span><span class="w"></span>
<span class="w">  </span><span class="k">KEY</span><span class="w"> </span><span class="n n-Quoted">`FK_Reference_12`</span><span class="w"> </span><span class="p">(</span><span class="n n-Quoted">`permission_id`</span><span class="p">),</span><span class="w"></span>
<span class="w">  </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n n-Quoted">`FK_Reference_11`</span><span class="w"> </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n n-Quoted">`role_id`</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n n-Quoted">`t_role`</span><span class="w"> </span><span class="p">(</span><span class="n n-Quoted">`id`</span><span class="p">),</span><span class="w"></span>
<span class="w">  </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n n-Quoted">`FK_Reference_12`</span><span class="w"> </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n n-Quoted">`permission_id`</span><span class="p">)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n n-Quoted">`t_permission`</span><span class="w"> </span><span class="p">(</span><span class="n n-Quoted">`id`</span><span class="p">)</span><span class="w"></span>
<span class="p">)</span><span class="w"> </span><span class="k">ENGINE</span><span class="o">=</span><span class="n">InnoDB</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CHARSET</span><span class="o">=</span><span class="n">utf8</span><span class="p">;</span><span class="w"></span>



<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_role_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;1&#39;</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_role_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;1&#39;</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_role_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2&#39;</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_role_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2&#39;</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_role_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;3&#39;</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_role_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;3&#39;</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_role_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;4&#39;</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_role_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;4&#39;</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_role_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;5&#39;</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_role_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;5&#39;</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_role_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;6&#39;</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_role_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;6&#39;</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_role_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;7&#39;</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_role_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;7&#39;</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_role_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;8&#39;</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_role_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;8&#39;</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_role_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;9&#39;</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_role_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;9&#39;</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_role_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;10&#39;</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_role_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;10&#39;</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_role_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;11&#39;</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_role_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;11&#39;</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_role_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;12&#39;</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_role_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;12&#39;</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_role_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;13&#39;</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_role_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;13&#39;</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_role_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;14&#39;</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_role_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;14&#39;</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_role_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;15&#39;</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_role_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;16&#39;</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_role_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;17&#39;</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_role_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;18&#39;</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_role_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;19&#39;</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_role_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;20&#39;</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_role_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;21&#39;</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_role_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;22&#39;</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_role_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;23&#39;</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_role_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;24&#39;</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_role_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;25&#39;</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_role_permission`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;26&#39;</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<h3 id="_3">【目标】<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h3>
<p>在美年健康的项目中使用SpringSecurity完成认证和授权</p>
<h3 id="_4">【路径】<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<p>1：导入SpringSecurity环境</p>
<p>（1）pom.xml中添加依赖</p>
<p>（2）web.xml添加代理过滤器</p>
<p>2：实现认证和授权</p>
<p>（1）认证：SpringSecurityUserService.java</p>
<p>（2）创建Service类、Dao接口类、Mapper映射文件</p>
<p>（3）springmvc.xml（dubbo注解扫描范围扩大）</p>
<p>（4）spring-security.xml</p>
<p>（5）springmvc.xml（导入spring-security.xml）</p>
<p>（6）TravelItemController类（@PreAuthorize("hasAuthority('CHECKITEM_ADD')")：完成权限）</p>
<p>（7）travelitem.html（如果没有权限，可以提示错误信息）</p>
<p>（8）导入login.html测试登录</p>
<p>3：显示用户名</p>
<p>4：用户退出</p>
<h3 id="_5">【讲解】<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<h3 id="11-spring-security">1.1. <strong>导入Spring Security环境</strong><a class="headerlink" href="#11-spring-security" title="Permanent link">&para;</a></h3>
<p>【路径】</p>
<p>1：pom.xml导入坐标</p>
<p>2：web.xml添加代理过滤器</p>
<h4 id="111-pomxml">1.1.1. 第一步：pom.xml导入坐标<a class="headerlink" href="#111-pomxml" title="Permanent link">&para;</a></h4>
<p>在meinian_parent父工程的pom.xml中导入Spring Security的maven坐标（已经引入）</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;dependency&gt;</span>
  <span class="nt">&lt;groupId&gt;</span>org.springframework.security<span class="nt">&lt;/groupId&gt;</span>
  <span class="nt">&lt;artifactId&gt;</span>spring-security-web<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;version&gt;</span>${spring.security.version}<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
<span class="nt">&lt;dependency&gt;</span>
  <span class="nt">&lt;groupId&gt;</span>org.springframework.security<span class="nt">&lt;/groupId&gt;</span>
  <span class="nt">&lt;artifactId&gt;</span>spring-security-config<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;version&gt;</span>${spring.security.version}<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></div>
<h4 id="112-webxml">1.1.2. 第二步：web.xml添加代理过滤器<a class="headerlink" href="#112-webxml" title="Permanent link">&para;</a></h4>
<p>在 <code>meinian_web</code>工程的<code>web.xml</code>文件中配置用于整合<code>Spring Security</code>框架的过滤器<code>DelegatingFilterProxy</code></p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;filter&gt;</span>
    <span class="cm">&lt;!--</span>
<span class="cm">      DelegatingFilterProxy用于整合第三方框架（代理过滤器，非真正的过滤器，真正的过滤器需要在spring的配置文件）</span>
<span class="cm">      整合Spring Security时过滤器的名称必须为springSecurityFilterChain，</span>
<span class="cm">      否则会抛出NoSuchBeanDefinitionException异常</span>
<span class="cm">    --&gt;</span>
    <span class="nt">&lt;filter-name&gt;</span>springSecurityFilterChain<span class="nt">&lt;/filter-name&gt;</span>
    <span class="nt">&lt;filter-class&gt;</span>org.springframework.web.filter.DelegatingFilterProxy<span class="nt">&lt;/filter-class&gt;</span>
<span class="nt">&lt;/filter&gt;</span>
<span class="nt">&lt;filter-mapping&gt;</span>
    <span class="nt">&lt;filter-name&gt;</span>springSecurityFilterChain<span class="nt">&lt;/filter-name&gt;</span>
    <span class="nt">&lt;url-pattern&gt;</span>/*<span class="nt">&lt;/url-pattern&gt;</span>
<span class="nt">&lt;/filter-mapping&gt;</span>
</code></pre></div>
<p>#### 1.1.3 第三步 ： sql语句</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 1 使用登录名查询用户信息</span><span class="w"></span>
<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">t_user</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;admin&#39;</span><span class="w"></span>
<span class="c1"># 2 传递用户id查询角色集合</span><span class="w"></span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">t_role</span><span class="w"> </span><span class="n">r</span><span class="p">,</span><span class="n">t_user_role</span><span class="w"> </span><span class="n">ur</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">ur</span><span class="p">.</span><span class="n">role_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">ur</span><span class="p">.</span><span class="n">user_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"></span>
<span class="c1"># 3 传递角色id查询权限集合</span><span class="w"></span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">t_permission</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="n">t_role_permission</span><span class="w"> </span><span class="n">rp</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rp</span><span class="p">.</span><span class="n">permission_id</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">rp</span><span class="p">.</span><span class="n">role_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"></span>
</code></pre></div>
<h3 id="12">1.2. <strong>实现认证和授权</strong><a class="headerlink" href="#12" title="Permanent link">&para;</a></h3>
<h4 id="121-springsecurityuserservicejava">1.2.1. 第一步：SpringSecurityUserService.java<a class="headerlink" href="#121-springsecurityuserservicejava" title="Permanent link">&para;</a></h4>
<p>在<code>meinian_web</code>工程中按照<code>Spring Security</code>框架要求提供<code>SpringSecurityUserService</code>，并且实现<code>UserDetailsService</code>接口</p>
<div class="highlight"><pre><span></span><code><span class="kn">package</span> <span class="nn">com.atguigu.security</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">com.alibaba.dubbo.config.annotation.Reference</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">com.atguigu.pojo.Permission</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">com.atguigu.pojo.Role</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">com.atguigu.service.UserService</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.security.core.GrantedAuthority</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.security.core.authority.SimpleGrantedAuthority</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.security.core.userdetails.User</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.security.core.userdetails.UserDetails</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.security.core.userdetails.UserDetailsService</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.security.core.userdetails.UsernameNotFoundException</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Component</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="p">;</span>


<span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SpringSecurityUserService</span> <span class="kd">implements</span> <span class="n">UserDetailsService</span> <span class="p">{</span>

    <span class="nd">@Reference</span> <span class="c1">//注意：此处要通过dubbo远程调用用户服务</span>
    <span class="kd">private</span> <span class="n">UserService</span> <span class="n">userService</span><span class="p">;</span>

    <span class="c1">//根据用户名查询用户信息</span>
    <span class="kd">public</span> <span class="n">UserDetails</span> <span class="nf">loadUserByUsername</span><span class="p">(</span><span class="n">String</span> <span class="n">username</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">UsernameNotFoundException</span> <span class="p">{</span>
        <span class="c1">//远程调用用户服务，根据用户名查询用户信息</span>
        <span class="n">com</span><span class="p">.</span><span class="na">atguigu</span><span class="p">.</span><span class="na">pojo</span><span class="p">.</span><span class="na">User</span> <span class="n">user</span> <span class="o">=</span> <span class="n">userService</span><span class="p">.</span><span class="na">findUserByUsername</span><span class="p">(</span><span class="n">username</span><span class="p">);</span>
        <span class="k">if</span><span class="p">(</span><span class="n">user</span> <span class="o">==</span> <span class="kc">null</span><span class="p">){</span>
            <span class="c1">//用户名不存在，抛出异常UsernameNotFoundException </span>
            <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">GrantedAuthority</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">GrantedAuthority</span><span class="o">&gt;</span><span class="p">();</span>
        <span class="n">Set</span><span class="o">&lt;</span><span class="n">Role</span><span class="o">&gt;</span> <span class="n">roles</span> <span class="o">=</span> <span class="n">user</span><span class="p">.</span><span class="na">getRoles</span><span class="p">();</span>
        <span class="k">for</span><span class="p">(</span><span class="n">Role</span> <span class="n">role</span> <span class="p">:</span> <span class="n">roles</span><span class="p">){</span>
            <span class="n">Set</span><span class="o">&lt;</span><span class="n">Permission</span><span class="o">&gt;</span> <span class="n">permissions</span> <span class="o">=</span> <span class="n">role</span><span class="p">.</span><span class="na">getPermissions</span><span class="p">();</span>
            <span class="k">for</span><span class="p">(</span><span class="n">Permission</span> <span class="n">permission</span> <span class="p">:</span> <span class="n">permissions</span><span class="p">){</span>
                <span class="c1">//授权</span>
                <span class="n">list</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">new</span> <span class="n">SimpleGrantedAuthority</span><span class="p">(</span><span class="n">permission</span><span class="p">.</span><span class="na">getKeyword</span><span class="p">()));</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="cm">/**</span>
<span class="cm">         * User()</span>
<span class="cm">         * 1：指定用户名</span>
<span class="cm">         * 2：指定密码（SpringSecurity会自动对密码进行校验）</span>
<span class="cm">         * 3：传递授予的角色和权限</span>
<span class="cm">         */</span>
        <span class="n">UserDetails</span> <span class="n">userDetails</span> <span class="o">=</span> <span class="k">new</span> <span class="n">User</span><span class="p">(</span><span class="n">username</span><span class="p">,</span><span class="n">user</span><span class="p">.</span><span class="na">getPassword</span><span class="p">(),</span><span class="n">list</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">userDetails</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>使用debug跟踪调试，查看user。</p>
<p><img alt="1580904570172" src="../img/1580904570172.png" /> </p>
<h4 id="122-servicedaomapper">1.2.2. 第二步：Service、Dao接口、Mapper映射文件<a class="headerlink" href="#122-servicedaomapper" title="Permanent link">&para;</a></h4>
<p>创建UserService服务接口、服务实现类、Dao接口、Mapper映射文件等</p>
<p>【路径】</p>
<p>1：UserService.java接口</p>
<p>2：UserServiceImpl.java类</p>
<p>3：UserDao.java（使用用户id查询用户）</p>
<p>4：RoleDao.java（使用用户id查询角色集合）</p>
<p>5：PermissionDao.java（使用角色id查询权限集合）</p>
<p>6：UserDao.xml（使用用户id查询用户）</p>
<p>7：RoleDao.xml（使用用户id查询角色集合）</p>
<p>8：PermissionDao.xml（使用角色id查询权限集合）</p>
<p>【讲解】</p>
<p>1：服务接口</p>
<div class="highlight"><pre><span></span><code><span class="kn">package</span> <span class="nn">com.atguigu.service</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">com.atguigu.pojo.User</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 用户服务接口</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">UserService</span> <span class="p">{</span>

    <span class="n">User</span> <span class="nf">findUserByUsername</span><span class="p">(</span><span class="n">String</span> <span class="n">username</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>2：服务实现类</p>
<div class="highlight"><pre><span></span><code><span class="kn">package</span> <span class="nn">com.atguigu.service</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">com.alibaba.dubbo.config.annotation.Service</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">com.atguigu.dao.UserDao</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">com.atguigu.pojo.User</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.transaction.annotation.Transactional</span><span class="p">;</span>


<span class="nd">@Service</span><span class="p">(</span><span class="n">interfaceClass</span> <span class="o">=</span> <span class="n">UserService</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="nd">@Transactional</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">UserServiceImpl</span> <span class="kd">implements</span> <span class="n">UserService</span> <span class="p">{</span>

    <span class="nd">@Autowired</span>
    <span class="kd">private</span> <span class="n">UserDao</span> <span class="n">userDao</span><span class="p">;</span>

    <span class="kd">public</span> <span class="n">User</span> <span class="nf">findUserByUsername</span><span class="p">(</span><span class="n">String</span> <span class="n">username</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">User</span> <span class="n">user</span> <span class="o">=</span> <span class="n">userDao</span><span class="p">.</span><span class="na">findUserByUsername</span><span class="p">(</span><span class="n">username</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">user</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>3：Dao接口</p>
<p>（1）UserDao</p>
<div class="highlight"><pre><span></span><code><span class="kn">package</span> <span class="nn">com.atguigu.dao</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">com.atguigu.pojo.User</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Repository</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 持久层Dao接口</span>
<span class="cm"> */</span>
<span class="nd">@Repository</span>
<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">UserDao</span> <span class="p">{</span>

    <span class="n">User</span> <span class="nf">findUserByUsername</span><span class="p">(</span><span class="n">String</span> <span class="n">username</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>（2）RoleDao</p>
<div class="highlight"><pre><span></span><code><span class="kn">package</span> <span class="nn">com.atguigu.dao</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">com.atguigu.pojo.Role</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Repository</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">java.util.Set</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 持久层Dao接口</span>
<span class="cm"> */</span>
<span class="nd">@Repository</span>
<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">RoleDao</span> <span class="p">{</span>

    <span class="n">Set</span><span class="o">&lt;</span><span class="n">Role</span><span class="o">&gt;</span> <span class="nf">findRolesByUserId</span><span class="p">(</span><span class="n">Integer</span> <span class="n">userId</span><span class="p">);</span>

<span class="p">}</span>
</code></pre></div>
<p>（3）PermissionDao</p>
<div class="highlight"><pre><span></span><code><span class="kn">package</span> <span class="nn">com.atguigu.dao</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">com.atguigu.pojo.Permission</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Repository</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">java.util.Set</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * 持久层Dao接口</span>
<span class="cm"> */</span>
<span class="nd">@Repository</span>
<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">PermissionDao</span> <span class="p">{</span>

    <span class="n">Set</span><span class="o">&lt;</span><span class="n">Permission</span><span class="o">&gt;</span> <span class="nf">findPermissionsByRoleId</span><span class="p">(</span><span class="n">Integer</span> <span class="n">roleId</span><span class="p">);</span>

<span class="p">}</span>
</code></pre></div>
<p>4：Mapper映射文件</p>
<p>（1）UserDao.xml</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="cp">&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span>
<span class="cp">        &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot; &gt;</span>
<span class="nt">&lt;mapper</span> <span class="na">namespace=</span><span class="s">&quot;com.atguigu.dao.UserDao&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;resultMap</span> <span class="na">id=</span><span class="s">&quot;userMap&quot;</span> <span class="na">type=</span><span class="s">&quot;com.atguigu.pojo.User&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;id</span> <span class="na">column=</span><span class="s">&quot;id&quot;</span> <span class="na">property=</span><span class="s">&quot;id&quot;</span><span class="nt">&gt;&lt;/id&gt;</span>
        <span class="nt">&lt;result</span> <span class="na">column=</span><span class="s">&quot;birthday&quot;</span> <span class="na">property=</span><span class="s">&quot;birthday&quot;</span><span class="nt">&gt;&lt;/result&gt;</span>
        <span class="nt">&lt;result</span> <span class="na">column=</span><span class="s">&quot;gender&quot;</span> <span class="na">property=</span><span class="s">&quot;gender&quot;</span><span class="nt">&gt;&lt;/result&gt;</span>
        <span class="nt">&lt;result</span> <span class="na">column=</span><span class="s">&quot;username&quot;</span> <span class="na">property=</span><span class="s">&quot;username&quot;</span><span class="nt">&gt;&lt;/result&gt;</span>
        <span class="nt">&lt;result</span> <span class="na">column=</span><span class="s">&quot;password&quot;</span> <span class="na">property=</span><span class="s">&quot;password&quot;</span><span class="nt">&gt;&lt;/result&gt;</span>
        <span class="nt">&lt;result</span> <span class="na">column=</span><span class="s">&quot;remark&quot;</span> <span class="na">property=</span><span class="s">&quot;remark&quot;</span><span class="nt">&gt;&lt;/result&gt;</span>
        <span class="nt">&lt;result</span> <span class="na">column=</span><span class="s">&quot;station&quot;</span> <span class="na">property=</span><span class="s">&quot;station&quot;</span><span class="nt">&gt;&lt;/result&gt;</span>
        <span class="nt">&lt;result</span> <span class="na">column=</span><span class="s">&quot;telephone&quot;</span> <span class="na">property=</span><span class="s">&quot;telephone&quot;</span><span class="nt">&gt;&lt;/result&gt;</span>
        <span class="nt">&lt;collection</span> <span class="na">property=</span><span class="s">&quot;roles&quot;</span> <span class="na">column=</span><span class="s">&quot;id&quot;</span> <span class="na">select=</span><span class="s">&quot;com.atguigu.dao.RoleDao.findRolesByUserId&quot;</span><span class="nt">&gt;&lt;/collection&gt;</span>
    <span class="nt">&lt;/resultMap&gt;</span>
    <span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">&quot;findUserByUsername&quot;</span> <span class="na">parameterType=</span><span class="s">&quot;string&quot;</span> <span class="na">resultMap=</span><span class="s">&quot;userMap&quot;</span><span class="nt">&gt;</span>
        select u.* from t_user u where username = #{username}
    <span class="nt">&lt;/select&gt;</span>

<span class="nt">&lt;/mapper&gt;</span>
</code></pre></div>
<p>（2）RoleDao.xml</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="cp">&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span>
<span class="cp">        &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot; &gt;</span>
<span class="nt">&lt;mapper</span> <span class="na">namespace=</span><span class="s">&quot;com.atguigu.dao.RoleDao&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;resultMap</span> <span class="na">id=</span><span class="s">&quot;roleMap&quot;</span> <span class="na">type=</span><span class="s">&quot;role&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;id</span> <span class="na">column=</span><span class="s">&quot;id&quot;</span> <span class="na">property=</span><span class="s">&quot;id&quot;</span><span class="nt">&gt;&lt;/id&gt;</span>
        <span class="nt">&lt;result</span>  <span class="na">column=</span><span class="s">&quot;name&quot;</span> <span class="na">property=</span><span class="s">&quot;name&quot;</span><span class="nt">&gt;&lt;/result&gt;</span>
        <span class="nt">&lt;result</span>  <span class="na">column=</span><span class="s">&quot;keyword&quot;</span> <span class="na">property=</span><span class="s">&quot;keyword&quot;</span><span class="nt">&gt;&lt;/result&gt;</span>
        <span class="nt">&lt;result</span>  <span class="na">column=</span><span class="s">&quot;description&quot;</span> <span class="na">property=</span><span class="s">&quot;description&quot;</span><span class="nt">&gt;&lt;/result&gt;</span>
        <span class="nt">&lt;collection</span> <span class="na">property=</span><span class="s">&quot;permissions&quot;</span> <span class="na">column=</span><span class="s">&quot;id&quot;</span> <span class="na">select=</span><span class="s">&quot;com.atguigu.dao.PermissionDao.findPermissionsByRoleId&quot;</span><span class="nt">&gt;&lt;/collection&gt;</span>
    <span class="nt">&lt;/resultMap&gt;</span>
    <span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">&quot;findRolesByUserId&quot;</span> <span class="na">parameterType=</span><span class="s">&quot;int&quot;</span> <span class="na">resultMap=</span><span class="s">&quot;roleMap&quot;</span><span class="nt">&gt;</span>
        SELECT r.* FROM t_role r,t_user_role ur WHERE r.id = ur.role_id AND ur.user_id = #{userId}
    <span class="nt">&lt;/select&gt;</span>
<span class="nt">&lt;/mapper&gt;</span>
</code></pre></div>
<p>（3）PermissionDao.xml</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="cp">&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span>
<span class="cp">        &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot; &gt;</span>
<span class="nt">&lt;mapper</span> <span class="na">namespace=</span><span class="s">&quot;com.atguigu.dao.PermissionDao&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">&quot;findPermissionsByRoleId&quot;</span> <span class="na">parameterType=</span><span class="s">&quot;int&quot;</span> <span class="na">resultType=</span><span class="s">&quot;com.atguigu.pojo.Permission&quot;</span><span class="nt">&gt;</span>
        SELECT p.* FROM t_permission p,t_role_permission rp WHERE p.id = rp.permission_id AND rp.role_id = #{roleId}
    <span class="nt">&lt;/select&gt;</span>
<span class="nt">&lt;/mapper&gt;</span>
</code></pre></div>
<h4 id="123-springmvcxml">1.2.3. 第三步：springmvc.xml<a class="headerlink" href="#123-springmvcxml" title="Permanent link">&para;</a></h4>
<p>修改meinian_web工程中的springmvc.xml文件，修改dubbo批量扫描的包路径</p>
<p>之前的包扫描</p>
<div class="highlight"><pre><span></span><code><span class="cm">&lt;!--批量扫描--&gt;</span>
<span class="nt">&lt;dubbo:annotation</span> <span class="na">package=</span><span class="s">&quot;com.atguigu.controller&quot;</span> <span class="nt">/&gt;</span>
</code></pre></div>
<p><strong>现在的包扫描</strong></p>
<div class="highlight"><pre><span></span><code><span class="cm">&lt;!--批量扫描--&gt;</span>
<span class="nt">&lt;dubbo:annotation</span> <span class="na">package=</span><span class="s">&quot;com.atguigu&quot;</span> <span class="nt">/&gt;</span>
</code></pre></div>
<p>**注意：**此处原来扫描的包为com.atguigu.controller，现在改为com.atguigu包的目的是需要将我们上面定义的SpringSecurityUserService也扫描到，因为在SpringSecurityUserService的loadUserByUsername方法中需要通过dubbo远程调用名称为UserService的服务。</p>
<h4 id="124-spring-securityxml">1.2.4. 第四步：spring-security.xml<a class="headerlink" href="#124-spring-securityxml" title="Permanent link">&para;</a></h4>
<p>【路径】</p>
<p>1：定义哪些链接可以放行</p>
<p>2：定义哪些链接不可以放行，即需要有角色、权限才可以放行</p>
<p>3：认证管理，定义登录账号名和密码，并授予访问的角色、权限</p>
<p>4：设置在页面可以通过iframe访问受保护的页面，默认为不允许访问，需要添加security:frame-options policy="SAMEORIGIN"</p>
<p>【讲解】</p>
<p>在meinian_web工程中提供spring-security.xml配置文件</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;beans</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.springframework.org/schema/beans&quot;</span>
       <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
       <span class="na">xmlns:context=</span><span class="s">&quot;http://www.springframework.org/schema/context&quot;</span>
       <span class="na">xmlns:dubbo=</span><span class="s">&quot;http://code.alibabatech.com/schema/dubbo&quot;</span>
       <span class="na">xmlns:mvc=</span><span class="s">&quot;http://www.springframework.org/schema/mvc&quot;</span>
       <span class="na">xmlns:security=</span><span class="s">&quot;http://www.springframework.org/schema/security&quot;</span>
       <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://www.springframework.org/schema/beans</span>
<span class="s">                  http://www.springframework.org/schema/beans/spring-beans.xsd</span>
<span class="s">                  http://www.springframework.org/schema/mvc</span>
<span class="s">                  http://www.springframework.org/schema/mvc/spring-mvc.xsd</span>
<span class="s">                  http://code.alibabatech.com/schema/dubbo</span>
<span class="s">                  http://code.alibabatech.com/schema/dubbo/dubbo.xsd</span>
<span class="s">                  http://www.springframework.org/schema/context</span>
<span class="s">                  http://www.springframework.org/schema/context/spring-context.xsd</span>
<span class="s">                          http://www.springframework.org/schema/security</span>
<span class="s">                          http://www.springframework.org/schema/security/spring-security.xsd&quot;</span><span class="nt">&gt;</span>
    <span class="cm">&lt;!--一：定义哪些链接可以放行--&gt;</span>
    <span class="cm">&lt;!--</span>
<span class="cm">      http：用于定义相关权限控制</span>
<span class="cm">      指定哪些资源不需要进行权限校验，可以使用通配符</span>
<span class="cm">    --&gt;</span>
    <span class="nt">&lt;security:http</span> <span class="na">security=</span><span class="s">&quot;none&quot;</span> <span class="na">pattern=</span><span class="s">&quot;/js/**&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;security:http</span> <span class="na">security=</span><span class="s">&quot;none&quot;</span> <span class="na">pattern=</span><span class="s">&quot;/css/**&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;security:http</span> <span class="na">security=</span><span class="s">&quot;none&quot;</span> <span class="na">pattern=</span><span class="s">&quot;/img/**&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;security:http</span> <span class="na">security=</span><span class="s">&quot;none&quot;</span> <span class="na">pattern=</span><span class="s">&quot;/plugins/**&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;security:http</span> <span class="na">security=</span><span class="s">&quot;none&quot;</span> <span class="na">pattern=</span><span class="s">&quot;/login.html&quot;</span><span class="nt">&gt;&lt;/security:http&gt;</span>
    <span class="cm">&lt;!--开启注解方式权限控制--&gt;</span>
    <span class="nt">&lt;security:global-method-security</span> <span class="na">pre-post-annotations=</span><span class="s">&quot;enabled&quot;</span> <span class="nt">/&gt;</span>
    <span class="cm">&lt;!--</span>
<span class="cm">        二：定义哪些链接不可以放行，即需要有角色、权限才可以放行</span>
<span class="cm">        http：用于定义相关权限控制</span>
<span class="cm">        auto-config：是否自动配置</span>
<span class="cm">                        设置为true时框架会提供默认的一些配置，例如提供默认的登录页面、登出处理等</span>
<span class="cm">                        设置为false时需要显示提供登录表单配置，否则会报错</span>
<span class="cm">        use-expressions：用于指定intercept-url中的access属性是否使用表达式</span>
<span class="cm">    --&gt;</span>
    <span class="nt">&lt;security:http</span> <span class="na">auto-config=</span><span class="s">&quot;true&quot;</span> <span class="na">use-expressions=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>


        <span class="cm">&lt;!--只要认证通过就可以访问--&gt;</span>
        <span class="cm">&lt;!--</span>
<span class="cm">            intercept-url：定义一个拦截规则</span>
<span class="cm">            pattern：对哪些url进行权限控制</span>
<span class="cm">            access：在请求对应的URL时需要什么权限，默认配置时它应该是一个以逗号分隔的角色列表，</span>
<span class="cm">              请求的用户只需拥有其中的一个角色就能成功访问对应的URL</span>
<span class="cm">            isAuthenticated()：需要经过认证后才能访问（不是匿名用户）</span>
<span class="cm">        --&gt;</span>
        <span class="nt">&lt;security:intercept-url</span> <span class="na">pattern=</span><span class="s">&quot;/pages/**&quot;</span>  <span class="na">access=</span><span class="s">&quot;isAuthenticated()&quot;</span> <span class="nt">/&gt;</span>

        <span class="cm">&lt;!--</span>
<span class="cm">          form-login：定义表单登录信息</span>
<span class="cm">        --&gt;</span>
        <span class="nt">&lt;security:form-login</span> <span class="na">login-page=</span><span class="s">&quot;/login.html&quot;</span>
                             <span class="na">username-parameter=</span><span class="s">&quot;username&quot;</span>
                             <span class="na">password-parameter=</span><span class="s">&quot;password&quot;</span>
                             <span class="na">login-processing-url=</span><span class="s">&quot;/login.do&quot;</span>
                             <span class="na">default-target-url=</span><span class="s">&quot;/pages/main.html&quot;</span>
                             <span class="na">authentication-failure-url=</span><span class="s">&quot;/login.html&quot;</span>
                             <span class="na">always-use-default-target=</span><span class="s">&quot;true&quot;</span>
        <span class="nt">/&gt;</span>

        <span class="cm">&lt;!--</span>
<span class="cm">          csrf：对应CsrfFilter过滤器</span>
<span class="cm">          disabled：是否启用CsrfFilter过滤器，如果使用自定义登录页面需要关闭此项，否则登录操作会被禁用（403）</span>
<span class="cm">        --&gt;</span>
        <span class="nt">&lt;security:csrf</span> <span class="na">disabled=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;&lt;/security:csrf&gt;</span>

        <span class="cm">&lt;!--</span>
<span class="cm">          logout：退出登录</span>
<span class="cm">          logout-url：退出登录操作对应的请求路径</span>
<span class="cm">          logout-success-url：退出登录后的跳转页面</span>
<span class="cm">        --&gt;</span>
        <span class="nt">&lt;security:logout</span> <span class="na">logout-url=</span><span class="s">&quot;/logout.do&quot;</span>
                         <span class="na">logout-success-url=</span><span class="s">&quot;/login.html&quot;</span> <span class="na">invalidate-session=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>



    <span class="nt">&lt;/security:http&gt;</span>


    <span class="cm">&lt;!--配置密码加密对象--&gt;</span>
    <span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&quot;passwordEncoder&quot;</span>
          <span class="na">class=</span><span class="s">&quot;org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder&quot;</span> <span class="nt">/&gt;</span>


    <span class="cm">&lt;!--</span>
<span class="cm">        三：认证管理，定义登录账号名和密码，并授予访问的角色、权限</span>
<span class="cm">        authentication-manager：认证管理器，用于处理认证操作</span>
<span class="cm">    --&gt;</span>
    <span class="nt">&lt;security:authentication-manager&gt;</span>
        <span class="cm">&lt;!--</span>
<span class="cm">            authentication-provider：认证提供者，执行具体的认证逻辑</span>
<span class="cm">        --&gt;</span>
        <span class="nt">&lt;security:authentication-provider</span> <span class="na">user-service-ref=</span><span class="s">&quot;springSecurityUserService&quot;</span><span class="nt">&gt;</span>
            <span class="cm">&lt;!--指定密码加密策略--&gt;</span>
            <span class="nt">&lt;security:password-encoder</span> <span class="na">ref=</span><span class="s">&quot;passwordEncoder&quot;</span><span class="nt">&gt;&lt;/security:password-encoder&gt;</span>
        <span class="nt">&lt;/security:authentication-provider&gt;</span>
    <span class="nt">&lt;/security:authentication-manager&gt;</span>


<span class="nt">&lt;/beans&gt;</span>
</code></pre></div>
<p>这里注意：如果出现以下问题</p>
<p><img alt="1580912023930" src="../img/1580912023930.png" /> </p>
<p>使用下面的配置，在spring-security.xml中添加。</p>
<p>放置到<security:http auto-config="true" use-expressions="true">里面</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;security:headers&gt;</span>
    <span class="cm">&lt;!--设置在页面可以通过iframe访问受保护的页面，默认为不允许访问--&gt;</span>
    <span class="nt">&lt;security:frame-options</span> <span class="na">policy=</span><span class="s">&quot;SAMEORIGIN&quot;</span><span class="nt">&gt;&lt;/security:frame-options&gt;</span>
<span class="nt">&lt;/security:headers&gt;</span>
</code></pre></div>
<p>是因为我们在main.html中定义：如果不配置springSecurity会认为iframe访问的html页面是收保护的页面，不允许访问。</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">el-container</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">iframe</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;right&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;el-main&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;travelitem.html&quot;</span> <span class="na">width</span><span class="o">=</span><span class="s">&quot;100%&quot;</span> <span class="na">height</span><span class="o">=</span><span class="s">&quot;580px&quot;</span> <span class="na">frameborder</span><span class="o">=</span><span class="s">&quot;0&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">iframe</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">el-container</span><span class="p">&gt;</span>
</code></pre></div>
<p>备注：</p>
<p><img alt="img" src="../img/005.png" /> </p>
<h4 id="125-springmvcxml">1.2.5. 第五步：springmvc.xml<a class="headerlink" href="#125-springmvcxml" title="Permanent link">&para;</a></h4>
<p>在springmvc.xml文件中引入spring-security.xml文件</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;import</span> <span class="na">resource=</span><span class="s">&quot;classpath:spring-security.xml&quot;</span><span class="nt">&gt;&lt;/import&gt;</span>
</code></pre></div>
<h4 id="126-travelitemcontroller">1.2.6. 第六步：TravelItemController类<a class="headerlink" href="#126-travelitemcontroller" title="Permanent link">&para;</a></h4>
<p>在Controller的方法上加入权限控制注解，此处以 <code>TravelItemController</code> 为例</p>
<div class="highlight"><pre><span></span><code><span class="kn">package</span> <span class="nn">com.atguigu.controller</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">com.alibaba.dubbo.config.annotation.Reference</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">com.atguigu.constant.MessageConstant</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">com.atguigu.entity.PageResult</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">com.atguigu.entity.QueryPageBean</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">com.atguigu.entity.Result</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">com.atguigu.pojo.TravelItem</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">com.atguigu.service.TravelItemService</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">com.github.pagehelper.Page</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.security.access.prepost.PreAuthorize</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.ui.freemarker.FreeMarkerTemplateUtils</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RequestBody</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RequestMapping</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RestController</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">java.util.List</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * TravelItemController</span>
<span class="cm"> *</span>
<span class="cm"> * @Author: 马伟奇</span>
<span class="cm"> * @CreateTime: 2020-01-16</span>
<span class="cm"> * @Description:</span>
<span class="cm"> * @RestController = @Controller +  @ResponseBody</span>
<span class="cm"> *</span>
<span class="cm"> *</span>
<span class="cm"> */</span>
<span class="nd">@RestController</span>
<span class="nd">@RequestMapping</span><span class="p">(</span><span class="s">&quot;/travelItem&quot;</span><span class="p">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TravelItemController</span> <span class="p">{</span>

    <span class="nd">@Reference</span>
    <span class="kd">private</span> <span class="n">TravelItemService</span> <span class="n">travelItemService</span><span class="p">;</span>

    <span class="nd">@RequestMapping</span><span class="p">(</span><span class="s">&quot;/findAll&quot;</span><span class="p">)</span>
    <span class="kd">public</span> <span class="n">Result</span> <span class="nf">findAll</span><span class="p">(){</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">TravelItem</span><span class="o">&gt;</span> <span class="n">lists</span> <span class="o">=</span>  <span class="n">travelItemService</span><span class="p">.</span><span class="na">findAll</span><span class="p">();</span>
        <span class="k">return</span> <span class="k">new</span> <span class="n">Result</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span><span class="n">MessageConstant</span><span class="p">.</span><span class="na">QUERY_TRAVELITEM_SUCCESS</span><span class="p">,</span><span class="n">lists</span><span class="p">);</span>
    <span class="p">}</span>


    <span class="nd">@RequestMapping</span><span class="p">(</span><span class="s">&quot;/edit&quot;</span><span class="p">)</span>
    <span class="nd">@PreAuthorize</span><span class="p">(</span><span class="s">&quot;hasAuthority(&#39;TRAVELITEM_EDIT&#39;)&quot;</span><span class="p">)</span><span class="c1">//权限校验</span>
    <span class="kd">public</span> <span class="n">Result</span> <span class="nf">edit</span><span class="p">(</span><span class="nd">@RequestBody</span> <span class="n">TravelItem</span> <span class="n">travelItem</span><span class="p">){</span>
        <span class="n">travelItemService</span><span class="p">.</span><span class="na">edit</span><span class="p">(</span><span class="n">travelItem</span><span class="p">);</span>
        <span class="k">return</span> <span class="k">new</span> <span class="n">Result</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span><span class="n">MessageConstant</span><span class="p">.</span><span class="na">EDIT_TRAVELITEM_SUCCESS</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="nd">@RequestMapping</span><span class="p">(</span><span class="s">&quot;/findById&quot;</span><span class="p">)</span>
    <span class="kd">public</span> <span class="n">Result</span> <span class="nf">findById</span><span class="p">(</span><span class="n">Integer</span> <span class="n">id</span><span class="p">){</span>
        <span class="n">TravelItem</span> <span class="n">travelItem</span> <span class="o">=</span> <span class="n">travelItemService</span><span class="p">.</span><span class="na">findById</span><span class="p">(</span><span class="n">id</span><span class="p">);</span>
        <span class="k">return</span> <span class="k">new</span> <span class="n">Result</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span><span class="n">MessageConstant</span><span class="p">.</span><span class="na">QUERY_TRAVELITEM_SUCCESS</span><span class="p">,</span><span class="n">travelItem</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="nd">@RequestMapping</span><span class="p">(</span><span class="s">&quot;/delete&quot;</span><span class="p">)</span>
    <span class="nd">@PreAuthorize</span><span class="p">(</span><span class="s">&quot;hasAuthority(&#39;TRAVELITEM_DELETE&#39;)&quot;</span><span class="p">)</span><span class="c1">//权限校验，使用TRAVELITEM_DELETE123测试</span>
    <span class="kd">public</span> <span class="n">Result</span> <span class="nf">delete</span><span class="p">(</span><span class="n">Integer</span> <span class="n">id</span><span class="p">){</span>
        <span class="k">try</span> <span class="p">{</span>
            <span class="n">travelItemService</span><span class="p">.</span><span class="na">delete</span><span class="p">(</span><span class="n">id</span><span class="p">);</span>
            <span class="k">return</span> <span class="k">new</span> <span class="n">Result</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span><span class="n">MessageConstant</span><span class="p">.</span><span class="na">DELETE_TRAVELITEM_SUCCESS</span><span class="p">);</span>
        <span class="p">}</span><span class="k">catch</span> <span class="p">(</span><span class="n">RuntimeException</span> <span class="n">e</span><span class="p">){</span>
            <span class="k">return</span> <span class="k">new</span> <span class="n">Result</span><span class="p">(</span><span class="kc">false</span><span class="p">,</span><span class="n">MessageConstant</span><span class="p">.</span><span class="na">DELETE_TRAVELITEM_FAIL</span><span class="p">);</span>
        <span class="p">}</span><span class="k">catch</span> <span class="p">(</span><span class="n">Exception</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="k">new</span> <span class="n">Result</span><span class="p">(</span><span class="kc">false</span><span class="p">,</span><span class="n">MessageConstant</span><span class="p">.</span><span class="na">DELETE_TRAVELITEM_FAIL</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="nd">@RequestMapping</span><span class="p">(</span><span class="s">&quot;/findPage&quot;</span><span class="p">)</span>
    <span class="nd">@PreAuthorize</span><span class="p">(</span><span class="s">&quot;hasAuthority(&#39;TRAVELITEM_QUERY&#39;)&quot;</span><span class="p">)</span><span class="c1">//权限校验</span>
    <span class="kd">public</span> <span class="n">PageResult</span> <span class="nf">findPage</span><span class="p">(</span><span class="nd">@RequestBody</span> <span class="n">QueryPageBean</span> <span class="n">queryPageBean</span><span class="p">){</span>
        <span class="n">PageResult</span> <span class="n">pageResult</span> <span class="o">=</span>  <span class="n">travelItemService</span><span class="p">.</span><span class="na">findPage</span><span class="p">(</span><span class="n">queryPageBean</span><span class="p">.</span><span class="na">getCurrentPage</span><span class="p">(),</span>
                <span class="n">queryPageBean</span><span class="p">.</span><span class="na">getPageSize</span><span class="p">(),</span><span class="n">queryPageBean</span><span class="p">.</span><span class="na">getQueryString</span><span class="p">());</span>
        <span class="k">return</span> <span class="n">pageResult</span><span class="p">;</span>
    <span class="p">}</span>


    <span class="c1">//@RequestBody:表示对象和json数据进行互转</span>
    <span class="nd">@RequestMapping</span><span class="p">(</span><span class="s">&quot;/add&quot;</span><span class="p">)</span>
    <span class="nd">@PreAuthorize</span><span class="p">(</span><span class="s">&quot;hasAuthority(&#39;TRAVELITEM_ADD&#39;)&quot;</span><span class="p">)</span><span class="c1">//权限校验</span>
    <span class="kd">public</span> <span class="n">Result</span> <span class="nf">add</span><span class="p">(</span><span class="nd">@RequestBody</span> <span class="n">TravelItem</span> <span class="n">travelItem</span><span class="p">){</span>
        <span class="k">try</span> <span class="p">{</span>
            <span class="c1">// 增加，更新，删除 ，就不需要往data里面添加数据</span>
            <span class="c1">// 查询：list 对象</span>
            <span class="n">travelItemService</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">travelItem</span><span class="p">);</span>
            <span class="n">Result</span> <span class="n">result</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Result</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="n">MessageConstant</span><span class="p">.</span><span class="na">ADD_TRAVELITEM_SUCCESS</span><span class="p">);</span>
            <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">Exception</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="k">new</span> <span class="n">Result</span><span class="p">(</span><span class="kc">false</span><span class="p">,</span> <span class="n">MessageConstant</span><span class="p">.</span><span class="na">ADD_TRAVELITEM_SUCCESS</span><span class="p">);</span>
    <span class="p">}</span>

<span class="p">}</span>
</code></pre></div>
<h4 id="127-travelitemhtml">1.2.7. 第七步：travelitem.html<a class="headerlink" href="#127-travelitemhtml" title="Permanent link">&para;</a></h4>
<p>修改页面，没有权限时提示信息设置，此处以 travelitem.html 中的handleDelete方法为例。</p>
<p>如果权限抛出异常，可以指定showMessage&reg;方法进行处理。</p>
<div class="highlight"><pre><span></span><code><span class="c1">// 删除</span>
<span class="nx">handleDelete</span><span class="p">(</span><span class="nx">row</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// alert(row.id);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">$confirm</span><span class="p">(</span><span class="s2">&quot;确认删除当前选中记录吗？&quot;</span><span class="p">,</span><span class="s2">&quot;提示&quot;</span><span class="p">,{</span><span class="nx">type</span><span class="o">:</span><span class="s1">&#39;warning&#39;</span><span class="p">}).</span><span class="nx">then</span><span class="p">(()=&gt;{</span>
        <span class="c1">//点击确定按钮时只需此处代码</span>
        <span class="c1">// alert(&#39;用户点击的是确定按钮&#39;);</span>
        <span class="nx">axios</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&quot;/travelItem/delete.do?id=&quot;</span> <span class="o">+</span> <span class="nx">row</span><span class="p">.</span><span class="nx">id</span><span class="p">).</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)=&gt;</span> <span class="p">{</span>
            <span class="k">if</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">flag</span><span class="p">){</span>
                <span class="c1">//删除成功</span>
                <span class="k">this</span><span class="p">.</span><span class="nx">$message</span><span class="p">({</span>
                    <span class="nx">message</span><span class="o">:</span> <span class="nx">res</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">message</span><span class="p">,</span>
                    <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;success&#39;</span>
                <span class="p">});</span>
                <span class="c1">//调用分页，获取最新分页数据</span>
                <span class="k">this</span><span class="p">.</span><span class="nx">findPage</span><span class="p">();</span>
            <span class="p">}</span><span class="k">else</span><span class="p">{</span>
                <span class="c1">//删除失败</span>
                <span class="k">this</span><span class="p">.</span><span class="nx">$message</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">message</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}).</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)=&gt;{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">showMessage</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
        <span class="p">});</span>
    <span class="p">}).</span><span class="k">catch</span><span class="p">(()=&gt;</span> <span class="p">{</span>
        <span class="c1">//点击取消按钮执行此代码</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">$message</span><span class="p">(</span><span class="s1">&#39;操作已取消&#39;</span><span class="p">);</span>
    <span class="p">});</span>
<span class="p">},</span>
<span class="c1">//权限不足提示</span>
<span class="nx">showMessage</span><span class="p">(</span><span class="nx">r</span><span class="p">){</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">r</span> <span class="o">==</span> <span class="s1">&#39;Error: Request failed with status code 403&#39;</span><span class="p">){</span>
        <span class="c1">//权限不足</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">$message</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;无访问权限&#39;</span><span class="p">);</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span><span class="k">else</span><span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">$message</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;未知错误&#39;</span><span class="p">);</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h4 id="128-loginhtml">1.2.8. <strong>第八步：导入login.html页面</strong><a class="headerlink" href="#128-loginhtml" title="Permanent link">&para;</a></h4>
<p><img alt="img" src="../img/006.png" /> </p>
<p><img alt="img" src="../img/007.png" /> </p>
<p>此时login.html是可放行的页面，而pages下的页面必须认证之后才能访问的页面</p>
<h3 id="13">1.3. <strong>显示用户名</strong><a class="headerlink" href="#13" title="Permanent link">&para;</a></h3>
<p>【路径】</p>
<p>1：引入js</p>
<p>2：定义username属性</p>
<p>3：使用钩子函数，调用ajax，查询登录用户（从SpringSecurity中获取），赋值username属性</p>
<p>4：修改页面，使用{{username}}显示用户信息</p>
<p>【讲解】</p>
<p>前面我们已经完成了认证和授权操作，如果用户认证成功后需要在页面展示当前用户的用户名。Spring Security在认证成功后会将用户信息保存到框架提供的上下文对象中，所以此处我们就可以调用Spring Security框架提供的API获取当前用户的username并展示到页面上。</p>
<p>实现步骤：</p>
<p>第一步：在main.html页面中修改，定义username模型数据基于VUE的数据绑定展示用户名，发送ajax请求获取username</p>
<p>（1）：引入js</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;script</span> <span class="na">src=</span><span class="s">&quot;../js/axios-0.18.0.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre></div>
<p>（2）：定义username属性</p>
<p>（3）：使用钩子函数，调用ajax</p>
<div class="highlight"><pre><span></span><code><span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span>
    <span class="ow">new</span> <span class="nx">Vue</span><span class="p">({</span>
        <span class="nx">el</span><span class="o">:</span> <span class="s1">&#39;#app&#39;</span><span class="p">,</span>
        <span class="nx">data</span><span class="o">:</span><span class="p">{</span>
            <span class="nx">menuList</span><span class="o">:</span><span class="p">[</span>
                <span class="p">{</span>
                    <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;title&quot;</span><span class="o">:</span> <span class="s2">&quot;旅行社&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;icon&quot;</span><span class="o">:</span><span class="s2">&quot;fa-dashboard&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;children&quot;</span><span class="o">:</span> <span class="p">[]</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;title&quot;</span><span class="o">:</span> <span class="s2">&quot;旅行管理&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;icon&quot;</span><span class="o">:</span><span class="s2">&quot;fa-user-md&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;children&quot;</span><span class="o">:</span> <span class="p">[</span>
                        <span class="p">{</span>
                            <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="s2">&quot;/2-1&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;title&quot;</span><span class="o">:</span> <span class="s2">&quot;会员档案&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;linkUrl&quot;</span><span class="o">:</span><span class="s2">&quot;member.html&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;children&quot;</span><span class="o">:</span><span class="p">[]</span>
                        <span class="p">},</span>
                        <span class="p">{</span>
                            <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="s2">&quot;/2-2&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;title&quot;</span><span class="o">:</span> <span class="s2">&quot;会员信息上传&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;children&quot;</span><span class="o">:</span><span class="p">[]</span>
                        <span class="p">},</span>
                        <span class="p">{</span>
                            <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="s2">&quot;/2-3&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;title&quot;</span><span class="o">:</span> <span class="s2">&quot;会员统计&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;linkUrl&quot;</span><span class="o">:</span><span class="s2">&quot;all-item-list.html&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;children&quot;</span><span class="o">:</span><span class="p">[]</span>
                        <span class="p">},</span>
                    <span class="p">]</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;title&quot;</span><span class="o">:</span> <span class="s2">&quot;旅游后台&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;icon&quot;</span><span class="o">:</span><span class="s2">&quot;fa-tty&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;children&quot;</span><span class="o">:</span> <span class="p">[</span>
                        <span class="p">{</span>
                            <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="s2">&quot;/3-1&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;title&quot;</span><span class="o">:</span> <span class="s2">&quot;旅游预约列表&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;linkUrl&quot;</span><span class="o">:</span><span class="s2">&quot;ordersettinglist.html&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;children&quot;</span><span class="o">:</span><span class="p">[]</span>
                        <span class="p">},</span>
                        <span class="p">{</span>
                            <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="s2">&quot;/3-2&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;title&quot;</span><span class="o">:</span> <span class="s2">&quot;旅游预约&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;linkUrl&quot;</span><span class="o">:</span><span class="s2">&quot;ordersetting.html&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;children&quot;</span><span class="o">:</span><span class="p">[]</span>
                        <span class="p">},</span>
                        <span class="p">{</span>
                            <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="s2">&quot;/3-3&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;title&quot;</span><span class="o">:</span> <span class="s2">&quot;套餐游&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;linkUrl&quot;</span><span class="o">:</span><span class="s2">&quot;setmeal.html&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;children&quot;</span><span class="o">:</span><span class="p">[]</span>
                        <span class="p">},</span>
                        <span class="p">{</span>
                            <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="s2">&quot;/3-4&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;title&quot;</span><span class="o">:</span> <span class="s2">&quot;跟团游&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;linkUrl&quot;</span><span class="o">:</span><span class="s2">&quot;travelgroup.html&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;children&quot;</span><span class="o">:</span><span class="p">[]</span>
                        <span class="p">},</span>
                        <span class="p">{</span>
                            <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="s2">&quot;/3-5&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;title&quot;</span><span class="o">:</span> <span class="s2">&quot;自由行&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;linkUrl&quot;</span><span class="o">:</span><span class="s2">&quot;travelitem.html&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;children&quot;</span><span class="o">:</span><span class="p">[]</span>
                        <span class="p">},</span>
                    <span class="p">]</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="s2">&quot;4&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;title&quot;</span><span class="o">:</span> <span class="s2">&quot;旅游评估&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;icon&quot;</span><span class="o">:</span><span class="s2">&quot;fa-stethoscope&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;children&quot;</span><span class="o">:</span><span class="p">[</span>
                        <span class="p">{</span>
                            <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="s2">&quot;/4-1&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;title&quot;</span><span class="o">:</span> <span class="s2">&quot;大家一起游&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;linkUrl&quot;</span><span class="o">:</span><span class="s2">&quot;all-medical-list.html&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;children&quot;</span><span class="o">:</span><span class="p">[]</span>
                        <span class="p">},</span>
                    <span class="p">]</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="s2">&quot;5&quot;</span><span class="p">,</span>     <span class="c1">//菜单项所对应的路由路径</span>
                    <span class="s2">&quot;title&quot;</span><span class="o">:</span> <span class="s2">&quot;信息系统&quot;</span><span class="p">,</span>     <span class="c1">//菜单项名称</span>
                    <span class="s2">&quot;icon&quot;</span><span class="o">:</span><span class="s2">&quot;fa-heartbeat&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;children&quot;</span><span class="o">:</span><span class="p">[</span><span class="c1">//是否有子菜单，若没有，则为[]</span>
                        <span class="p">{</span>
                            <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="s2">&quot;/5-1&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;title&quot;</span><span class="o">:</span> <span class="s2">&quot;注册会员按月份数量统计&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;linkUrl&quot;</span><span class="o">:</span><span class="s2">&quot;report_member.html&quot;</span><span class="p">,</span>
                            <span class="s2">&quot;children&quot;</span><span class="o">:</span><span class="p">[]</span>
                        <span class="p">}</span>
                    <span class="p">]</span>
                <span class="p">}</span>
            <span class="p">],</span>
            <span class="nx">username</span><span class="o">:</span><span class="kc">null</span>  <span class="c1">// 显示用户名</span>
        <span class="p">},</span>
         <span class="c1">//发送请求获取当前登录用户的用户名</span>
        <span class="nx">created</span><span class="o">:</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

            <span class="c1">//发送请求获取当前登录用户的用户名</span>
            <span class="c1">// 返回Result(flag,message,data)，data放置User对象</span>
            <span class="nx">axios</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&quot;/user/getUsername.do&quot;</span><span class="p">).</span><span class="nx">then</span><span class="p">((</span><span class="nx">response</span><span class="p">)=&gt;{</span>
                <span class="k">if</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">flag</span><span class="p">){</span>
                    <span class="k">this</span><span class="p">.</span><span class="nx">username</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">username</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}).</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)=&gt;{</span>
                <span class="k">this</span><span class="p">.</span><span class="nx">$message</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">&quot;获取用户名失败&quot;</span><span class="p">);</span>
            <span class="p">})</span>
        <span class="p">}</span>
    <span class="p">});</span>
    <span class="nx">$</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">wd</span> <span class="o">=</span> <span class="mf">200</span><span class="p">;</span>
            <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.el-main&quot;</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s1">&#39;width&#39;</span><span class="p">,</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">).</span><span class="nx">width</span><span class="p">()</span> <span class="o">-</span> <span class="nx">wd</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="p">);</span>
    <span class="p">});</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</code></pre></div>
<p>（4）：修改页面</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;avatar-wrapper&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;../img/user2-160x160.jpg&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;user-avatar&quot;</span><span class="p">&gt;</span>
    <span class="cm">&lt;!--显示用户名--&gt;</span>
    {{username}}
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>
<p>第二步：创建UserController并提供getUsername方法</p>
<p>Spring Security使用一个Authentication对象来描述当前用户的相关信息。这个Authentication对象不需要我们自己去创建，在与系统交互的过程中，Spring Security会自动为我们创建相应的Authentication对象，然后赋值给当前的SecurityContext。通过Authentication.getPrincipal()可以获取到代表当前用户的信息。</p>
<div class="highlight"><pre><span></span><code><span class="kn">package</span> <span class="nn">com.atguigu.controller</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">com.alibaba.dubbo.config.annotation.Reference</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">com.atguigu.constant.MessageConstant</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">com.atguigu.entity.PageResult</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">com.atguigu.entity.QueryPageBean</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">com.atguigu.entity.Result</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">com.atguigu.service.UserService</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.security.core.context.SecurityContextHolder</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.security.core.userdetails.User</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RequestBody</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RequestMapping</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RestController</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.security.core.userdetails.User</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * CheckGroupController</span>
<span class="cm"> *</span>
<span class="cm"> * @Author: 马伟奇</span>
<span class="cm"> * @CreateTime: 2019-12-19</span>
<span class="cm"> * @Description:</span>
<span class="cm"> */</span>
<span class="nd">@RestController</span>
<span class="nd">@RequestMapping</span><span class="p">(</span><span class="s">&quot;/user&quot;</span><span class="p">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">UserController</span> <span class="p">{</span>
    <span class="nd">@Reference</span>
    <span class="kd">private</span> <span class="n">UserService</span> <span class="n">userService</span><span class="p">;</span>

    <span class="c1">//获取当前登录用户的用户名</span>
    <span class="nd">@RequestMapping</span><span class="p">(</span><span class="s">&quot;/getUsername&quot;</span><span class="p">)</span>
    <span class="kd">public</span> <span class="n">Result</span> <span class="nf">getUsername</span><span class="p">()</span><span class="kd">throws</span> <span class="n">Exception</span><span class="p">{</span>
        <span class="k">try</span><span class="p">{</span>
        <span class="n">user</span> <span class="o">=</span><span class="n">SecurityContextHolder</span><span class="p">.</span><span class="na">getContext</span><span class="p">().</span><span class="na">getAuthentication</span><span class="p">().</span><span class="na">getPrincipal</span><span class="p">();</span>
        <span class="k">return</span> <span class="k">new</span> <span class="n">Result</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="n">MessageConstant</span><span class="p">.</span><span class="na">GET_USERNAME_SUCCESS</span><span class="p">,</span><span class="n">user</span><span class="p">.</span><span class="na">getUsername</span><span class="p">());</span>
        <span class="p">}</span><span class="k">catch</span> <span class="p">(</span><span class="n">Exception</span> <span class="n">e</span><span class="p">){</span>
            <span class="k">return</span> <span class="k">new</span> <span class="n">Result</span><span class="p">(</span><span class="kc">false</span><span class="p">,</span> <span class="n">MessageConstant</span><span class="p">.</span><span class="na">GET_USERNAME_FAIL</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>通过debug调试可以看到Spring Security框架在其上下文中保存的用户相关信息：</p>
<p><img alt="1580916856595" src="../img/1580916856595.png" /> </p>
<p>显示当前登录人：</p>
<p><img alt="img" src="../img/009.png" /> </p>
<h3 id="14">1.4. <strong>用户退出</strong><a class="headerlink" href="#14" title="Permanent link">&para;</a></h3>
<p>【路径】</p>
<p>1：在main.html中提供的退出菜单上加入超链接</p>
<p>2：在spring-security.xml文件中配置</p>
<p>【讲解】</p>
<p>第一步：在main.html中提供的退出菜单上加入超链接</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">el-dropdown-item</span> <span class="na">divided</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">span</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;display:block;&quot;</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;/logout.do&quot;</span><span class="p">&gt;</span>退出<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">el-dropdown-item</span><span class="p">&gt;</span>
</code></pre></div>
<p>第二步：在spring-security.xml文件中配置</p>
<div class="highlight"><pre><span></span><code><span class="cm">&lt;!--</span>
<span class="cm">  logout：退出登录</span>
<span class="cm">  logout-url：退出登录操作对应的请求路径</span>
<span class="cm">  logout-success-url：退出登录后的跳转页面</span>
<span class="cm">--&gt;</span>
<span class="nt">&lt;security:logout</span> <span class="na">logout-url=</span><span class="s">&quot;/logout.do&quot;</span>
                 <span class="na">logout-success-url=</span><span class="s">&quot;/login.html&quot;</span> <span class="na">invalidate-session=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>
</code></pre></div>
<h3 id="_6">【小结】<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<p>1：导入SpringSecurity环境</p>
<p>（1）pom.xml中添加依赖</p>
<p>（2）web.xml添加代理过滤器</p>
<p>2：实现认证和授权</p>
<p>（1）认证：SpringSecurityUserService.java，实现UserDetailsService接口</p>
<p>（2）创建Service类、Dao接口类、Mapper映射文件（使用用户名查询当前用户信息，包括角色集合和权限集合）</p>
<p>（3）springmvc.xml（dubbo注解扫描范围扩大）</p>
<p>（4）spring-security.xml（重点）</p>
<p>（5）springmvc.xml（导入spring-security.xml）</p>
<p>（6）CheckItemController类（@PreAuthorize("hasAuthority('CHECKITEM_ADD')")：对类中的方法完成权限控制）</p>
<p>（7）checkitem.html（如果没有权限，可以提示错误信息，通过catch模块提示）</p>
<p>（8）导入login.html测试登录</p>
<p>3：显示用户名</p>
<p>从SecurityContextHolder对象中获取认证的用户信息</p>
<div class="highlight"><pre><span></span><code><span class="nd">@RequestMapping</span><span class="p">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">&quot;/getUsername&quot;</span><span class="p">)</span>
<span class="kd">public</span> <span class="n">Result</span> <span class="nf">getUsername</span><span class="p">(){</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="c1">// 从SpringSecurity中获取认证用户的信息</span>
        <span class="n">User</span> <span class="n">user</span> <span class="o">=</span> <span class="p">(</span><span class="n">User</span><span class="p">)</span><span class="n">SecurityContextHolder</span><span class="p">.</span><span class="na">getContext</span><span class="p">().</span><span class="na">getAuthentication</span><span class="p">().</span><span class="na">getPrincipal</span><span class="p">();</span>
        <span class="k">return</span> <span class="k">new</span> <span class="n">Result</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="n">MessageConstant</span><span class="p">.</span><span class="na">GET_USERNAME_SUCCESS</span><span class="p">,</span><span class="n">user</span><span class="p">.</span><span class="na">getUsername</span><span class="p">());</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">Exception</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
        <span class="k">return</span> <span class="k">new</span> <span class="n">Result</span><span class="p">(</span><span class="kc">false</span><span class="p">,</span> <span class="n">MessageConstant</span><span class="p">.</span><span class="na">GET_USERNAME_FAIL</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>4：用户退出</p>
<h2 id="2-echarts">2. <strong>第二章. 图形报表ECharts</strong><a class="headerlink" href="#2-echarts" title="Permanent link">&para;</a></h2>
<p>jfreechar（api编程）&rarr;HighChart报表&rarr;百度Echarts</p>
<h3 id="_7">【目标】<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h3>
<p>了解Echarts</p>
<h3 id="_8">【路径】<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h3>
<p>1：ECharts简介</p>
<p>2：5分钟上手ECharts</p>
<p>3：查看ECharts官方实例 </p>
<h3 id="_9">【讲解】<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h3>
<h3 id="21-echarts">2.1. ECharts简介<a class="headerlink" href="#21-echarts" title="Permanent link">&para;</a></h3>
<p>ECharts缩写来自Enterprise Charts，商业级数据图表，是百度的一个开源的使用JavaScript实现的数据可视化工具，可以流畅的运行在 PC 和移动设备上，兼容当前绝大部分浏览器（IE8/9/10/11，Chrome，Firefox，Safari等），底层依赖轻量级的矢量图形库 <a href="https://github.com/ecomfe/zrender">ZRender</a>，提供直观、交互丰富、可高度个性化定制的数据可视化图表。</p>
<p>官网：<a href="https://echarts.baidu.com/">https://echarts.baidu.com/</a></p>
<p>下载地址：<a href="https://echarts.baidu.com/download.html">https://echarts.baidu.com/download.html</a></p>
<p><img alt="img" src="../img/010.png" /> </p>
<p>下载完成可以得到如下文件：</p>
<p><img alt="img" src="../img/011.png" /> </p>
<p>解压上面的zip文件：</p>
<p><img alt="img" src="../img/012.png" /> </p>
<p>我们只需要将dist目录下的echarts.js文件（已经压缩）引入到页面上就可以使用了</p>
<p><img alt="img" src="../img/013.png" /> </p>
<h3 id="22-5echarts">2.2. <strong>5分钟上手ECharts</strong><a class="headerlink" href="#22-5echarts" title="Permanent link">&para;</a></h3>
<p>我们可以参考官方提供的5分钟上手ECharts文档感受一下ECharts的使用方式，地址如下：</p>
<p><a href="#5 %E5%88%86%E9%92%9F%E4%B8%8A%E6%89%8B ECharts">https://www.echartsjs.com/tutorial.html#5%20%E5%88%86%E9%92%9F%E4%B8%8A%E6%89%8B%20ECharts</a></p>
<p>第一步：在meinian_web中创建html页面并引入echarts.js文件</p>
<p><img alt="img" src="../img/014.png" /> </p>
<p>echartsDemo.html</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&quot;en&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&quot;UTF-8&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Title<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="cm">&lt;!-- 引入 ECharts 文件 --&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;js/echarts.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>

<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div>
<p>第二步：在页面中准备一个具备宽高的DOM容器。</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="cm">&lt;!-- 为 ECharts 准备一个具备大小（宽高）的 DOM --&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;main&quot;</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;width: 600px;height:400px;&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</code></pre></div>
<p>第三步：通过echarts.init方法初始化一个 echarts 实例并通过setOption方法生成一个简单的柱状图</p>
<div class="highlight"><pre><span></span><code><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
    <span class="c1">// 基于准备好的dom，初始化echarts实例</span>
    <span class="kd">var</span> <span class="nx">myChart</span> <span class="o">=</span> <span class="nx">echarts</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;main&#39;</span><span class="p">));</span>

    <span class="c1">// 指定图表的配置项和数据</span>
    <span class="kd">var</span> <span class="nx">option</span> <span class="o">=</span> <span class="p">{</span>
        <span class="nx">title</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">text</span><span class="o">:</span> <span class="s1">&#39;ECharts 入门示例&#39;</span>
        <span class="p">},</span>
        <span class="nx">tooltip</span><span class="o">:</span> <span class="p">{},</span>
        <span class="nx">legend</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">data</span><span class="o">:</span><span class="p">[</span><span class="s1">&#39;销量&#39;</span><span class="p">]</span>
        <span class="p">},</span>
        <span class="nx">xAxis</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">data</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;衬衫&quot;</span><span class="p">,</span><span class="s2">&quot;羊毛衫&quot;</span><span class="p">,</span><span class="s2">&quot;雪纺衫&quot;</span><span class="p">,</span><span class="s2">&quot;裤子&quot;</span><span class="p">,</span><span class="s2">&quot;高跟鞋&quot;</span><span class="p">,</span><span class="s2">&quot;袜子&quot;</span><span class="p">]</span>
        <span class="p">},</span>
        <span class="nx">yAxis</span><span class="o">:</span> <span class="p">{},</span>
        <span class="nx">series</span><span class="o">:</span> <span class="p">[{</span>
            <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;销量&#39;</span><span class="p">,</span>
            <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span>
            <span class="nx">data</span><span class="o">:</span> <span class="p">[</span><span class="mf">5</span><span class="p">,</span> <span class="mf">20</span><span class="p">,</span> <span class="mf">36</span><span class="p">,</span> <span class="mf">10</span><span class="p">,</span> <span class="mf">10</span><span class="p">,</span> <span class="mf">20</span><span class="p">]</span>
        <span class="p">}]</span>
    <span class="p">};</span>
    <span class="c1">// 使用刚指定的配置项和数据显示图表。</span>
    <span class="nx">myChart</span><span class="p">.</span><span class="nx">setOption</span><span class="p">(</span><span class="nx">option</span><span class="p">);</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</code></pre></div>
<p>效果如下：</p>
<p><img alt="img" src="../img/015.png" /> </p>
<h3 id="23-echarts">2.3. 查看ECharts官方实例<a class="headerlink" href="#23-echarts" title="Permanent link">&para;</a></h3>
<p>ECharts提供了很多官方实例，我们可以通过这些官方实例来查看展示效果和使用方法。</p>
<p>官方实例地址：<a href="https://www.echartsjs.com/examples/">https://www.echartsjs.com/examples/</a></p>
<p><img alt="img" src="../img/016.png" /> </p>
<p>可以点击具体的一个图形会跳转到编辑页面，编辑页面左侧展示源码（js部分源码），右侧展示图表效果，如下：</p>
<p><img alt="img" src="../img/017.png" /> </p>
<p>要查看完整代码可以点击右下角的Download按钮将完整页面下载到本地。</p>
<p>通过官方案例我们可以发现，使用ECharts展示图表效果，关键点在于确定此图表所需的数据格式，然后按照此数据格式提供数据就可以了，我们无须关注效果是如何渲染出来的。</p>
<p>在实际应用中，我们要展示的数据往往存储在数据库中，所以我们可以发送ajax请求获取数据库中的数据并转为图表所需的数据即可。</p>
<h3 id="_10">【小结】<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h3>
<p>1：ECharts简介</p>
<ul>
<li>ECharts百度开发的一套商业报表工具(库)</li>
</ul>
<p>2：5分钟上手ECharts</p>
<p>3：查看ECharts官方实例  </p>
<p>学习方法</p>
<ul>
<li>看官网, 关注案例，无需关注api，根据项目需求，选择合适报表</li>
</ul>
<h2 id="3">3. <strong>第三章. 会员数量折线图</strong><a class="headerlink" href="#3" title="Permanent link">&para;</a></h2>
<h3 id="_11">【目标】<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h3>
<p>使用ECharts实现注册会员数量折线图</p>
<h3 id="_12">【路径】<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h3>
<p>1：需求分析</p>
<p>2：前台代码</p>
<p>（1）导入ECharts库</p>
<p>（2）参考官方实例导入折线图</p>
<p>3：后台代码</p>
<p>（1）ReportController类</p>
<p>（2）MemberService服务接口</p>
<p>（3）MemberServiceImpl服务实现类</p>
<p>（4）MemberDao接口</p>
<p>（5）Mapper映射文件（MemberDao.xml）</p>
<h3 id="_13">【讲解】<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h3>
<h3 id="31">3.1. <strong>需求分析</strong><a class="headerlink" href="#31" title="Permanent link">&para;</a></h3>
<p>会员信息是旅游机构的核心数据，其会员数量和增长数量可以反映出机构的部分运营情况。通过折线图可以直观的反映出会员数量的增长趋势。本章节我们==需要展示过去一年时间内每个月的会员总数据量==。展示效果如下图：</p>
<p><img alt="img" src="../img/018.png" /> </p>
<p>导入sql语句</p>
<div class="highlight"><pre><span></span><code><span class="k">DROP</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="n n-Quoted">`t_member`</span><span class="p">;</span><span class="w"></span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n n-Quoted">`t_member`</span><span class="w"> </span><span class="p">(</span><span class="w"></span>
<span class="w">  </span><span class="n n-Quoted">`id`</span><span class="w"> </span><span class="kt">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="no">NULL</span><span class="w"> </span><span class="k">AUTO_INCREMENT</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n n-Quoted">`fileNumber`</span><span class="w"> </span><span class="kt">varchar</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="no">NULL</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n n-Quoted">`name`</span><span class="w"> </span><span class="kt">varchar</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="no">NULL</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n n-Quoted">`sex`</span><span class="w"> </span><span class="kt">varchar</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="no">NULL</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n n-Quoted">`idCard`</span><span class="w"> </span><span class="kt">varchar</span><span class="p">(</span><span class="mi">18</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="no">NULL</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n n-Quoted">`phoneNumber`</span><span class="w"> </span><span class="kt">varchar</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="no">NULL</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n n-Quoted">`regTime`</span><span class="w"> </span><span class="kt">date</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="no">NULL</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n n-Quoted">`password`</span><span class="w"> </span><span class="kt">varchar</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="no">NULL</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n n-Quoted">`email`</span><span class="w"> </span><span class="kt">varchar</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="no">NULL</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n n-Quoted">`birthday`</span><span class="w"> </span><span class="kt">date</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="no">NULL</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n n-Quoted">`remark`</span><span class="w"> </span><span class="kt">varchar</span><span class="p">(</span><span class="mi">128</span><span class="p">)</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="no">NULL</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n n-Quoted">`id`</span><span class="p">)</span><span class="w"></span>
<span class="p">)</span><span class="w"> </span><span class="k">ENGINE</span><span class="o">=</span><span class="n">InnoDB</span><span class="w"> </span><span class="k">AUTO_INCREMENT</span><span class="o">=</span><span class="mi">93</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CHARSET</span><span class="o">=</span><span class="n">utf8</span><span class="p">;</span><span class="w"></span>



<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_member`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;82&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;小明&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;123456789000999999&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;18544279942&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2019-03-08&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_member`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;83&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;美丽&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;132333333333333&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;13412345678&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2019-03-11&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_member`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;84&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;小星星&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;18343569942&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2019-03-13&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_member`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;85&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;小强&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="mi">18344249942</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2019-03-06&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_member`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;86&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;红康&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="mi">18544579942</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2019-04-04&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_member`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;87&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;大海&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="mi">18544274442</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2019-02-06&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_member`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;88&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;小婷&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="mi">18544269942</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2019-04-10&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_member`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;89&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;晓晓&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="mi">18544339942</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2019-12-01&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_member`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;90&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;纯生&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="mi">18544669942</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2019-12-02&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_member`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;91&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;闰土&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="mi">18544779942</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2019-02-01&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">);</span><span class="w"></span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n n-Quoted">`t_member`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;92&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;波波&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;234234145432121345&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;18019286521&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2019-10-19&#39;</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">,</span><span class="w"> </span><span class="no">null</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>需要的sql：</p>
<div class="highlight"><pre><span></span><code><span class="o">#</span><span class="mi">2019</span><span class="err">年</span><span class="mi">05</span><span class="err">月</span><span class="mi">31</span><span class="err">日之前注册会员的人数</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span><span class="w"></span>

<span class="k">SELECT</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">t_member</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">regTime</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="s1">&#39;2019-05-31&#39;</span><span class="w"></span>

<span class="o">#</span><span class="mi">2019</span><span class="err">年</span><span class="mi">06</span><span class="err">月</span><span class="mi">31</span><span class="err">日之前注册会员的人数</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span><span class="w"></span>

<span class="k">SELECT</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">t_member</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">regTime</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="s1">&#39;2019-06-31&#39;</span><span class="w"></span>

<span class="o">#</span><span class="mi">2019</span><span class="err">年</span><span class="mi">07</span><span class="err">月</span><span class="mi">31</span><span class="err">日之前注册会员的人数</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span><span class="w"></span>

<span class="k">SELECT</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">t_member</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">regTime</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="s1">&#39;2019-07-31&#39;</span><span class="w"></span>
</code></pre></div>
<h3 id="32">3.2. <strong>前台代码</strong><a class="headerlink" href="#32" title="Permanent link">&para;</a></h3>
<p>会员数量折线图对应的页面为/pages/report_member.html。</p>
<p><img alt="1581077493520" src="../img/1581077493520.png" /> </p>
<h4 id="321-echarts">3.2.1. <strong>导入ECharts库</strong><a class="headerlink" href="#321-echarts" title="Permanent link">&para;</a></h4>
<p>第一步：将echarts.js文件复制到health_web工程中</p>
<p><img alt="img" src="../img/020.png" /> </p>
<p>第二步：在report_member.html页面引入echarts.js文件</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;../js/echarts.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>
<h4 id="322">3.2.2. <strong>参照官方实例导入折线图</strong><a class="headerlink" href="#322" title="Permanent link">&para;</a></h4>
<p>1：定义<div></p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;app-container&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;box&quot;</span><span class="p">&gt;</span>
        <span class="cm">&lt;!-- 为 ECharts 准备一个具备大小（宽高）的 DOM --&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;chart1&quot;</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;height:600px;&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>
<p>2：定义script</p>
<div class="highlight"><pre><span></span><code><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
    <span class="c1">// 基于准备好的dom，初始化echarts实例</span>
    <span class="kd">var</span> <span class="nx">myChart1</span> <span class="o">=</span> <span class="nx">echarts</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;chart1&#39;</span><span class="p">));</span>

   <span class="cm">/**</span>
<span class="cm">         *返回Result(flag,message,data):data=Map&lt;String,Object&gt;</span>
<span class="cm">         *     map：key             value</span>
<span class="cm">         *          months          List&lt;String&gt;   ([&quot;2018-12&quot;,&quot;2019-01&quot;,&quot;2019-02&quot;,&quot;2019-03&quot;,&quot;2019-04&quot;,&quot;2019-05&quot;])</span>
<span class="cm">         *          memberCount     List&lt;Integer&gt;  ([5, 20, 36, 40, 50, 60])</span>
<span class="cm">          */</span>
    <span class="c1">// 使用刚指定的配置项和数据显示图表。</span>
    <span class="c1">//myChart.setOption(option);</span>

    <span class="nx">axios</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&quot;/report/getMemberReport.do&quot;</span><span class="p">).</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)=&gt;{</span>
        <span class="nx">myChart1</span><span class="p">.</span><span class="nx">setOption</span><span class="p">(</span>
                            <span class="p">{</span>
                                <span class="nx">title</span><span class="o">:</span> <span class="p">{</span>
                                    <span class="nx">text</span><span class="o">:</span> <span class="s1">&#39;会员数量&#39;</span>
                                <span class="p">},</span>
                                <span class="nx">tooltip</span><span class="o">:</span> <span class="p">{},</span>
                                <span class="nx">legend</span><span class="o">:</span> <span class="p">{</span>
                                    <span class="nx">data</span><span class="o">:</span><span class="p">[</span><span class="s1">&#39;会员数量&#39;</span><span class="p">]</span>
                                <span class="p">},</span>
                                <span class="nx">xAxis</span><span class="o">:</span> <span class="p">{</span>
                                    <span class="nx">data</span><span class="o">:</span> <span class="nx">res</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">months</span>
                                <span class="p">},</span>
                                <span class="nx">yAxis</span><span class="o">:</span> <span class="p">{</span>
                                    <span class="nx">type</span><span class="o">:</span><span class="s1">&#39;value&#39;</span>
                                <span class="p">},</span>
                                <span class="nx">series</span><span class="o">:</span> <span class="p">[{</span>
                                    <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;会员数量&#39;</span><span class="p">,</span>
                                    <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;line&#39;</span><span class="p">,</span>
                                    <span class="nx">data</span><span class="o">:</span> <span class="nx">res</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">memberCount</span>
                                <span class="p">}]</span>
                            <span class="p">});</span>
    <span class="p">});</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</code></pre></div>
<p>根据折现图对数据格式的要求，我们发送ajax请求，服务端需要返回如下格式的数据：</p>
<p>其中months和memberCount可以使用hashmap封装</p>
<p>返回Result：data、flag、message</p>
<p>其中data，是map集合</p>
<p><mark>map集合的key：months；            map集合的值：List<String></mark></p>
<p><mark>map集合的key：memberCount；      map集合的值：List<Integer></mark></p>
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;data&quot;</span><span class="p">:{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;months&quot;</span><span class="p">:[</span><span class="s2">&quot;2019-01&quot;</span><span class="p">,</span><span class="s2">&quot;2019-02&quot;</span><span class="p">,</span><span class="s2">&quot;2019-03&quot;</span><span class="p">,</span><span class="s2">&quot;2019-04&quot;</span><span class="p">],</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;memberCount&quot;</span><span class="p">:[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">10</span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;flag&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="s2">&quot;获取会员统计数据成功&quot;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<h3 id="33">3.3. <strong>后台代码</strong><a class="headerlink" href="#33" title="Permanent link">&para;</a></h3>
<h4 id="331-controller">3.3.1. <strong>Controller</strong><a class="headerlink" href="#331-controller" title="Permanent link">&para;</a></h4>
<p>在meinian_web工程中创建ReportController并提供getMemberReport方法</p>
<div class="highlight"><pre><span></span><code><span class="kn">package</span> <span class="nn">com.atguigu.controller</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">com.alibaba.dubbo.config.annotation.Reference</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">com.atguigu.constant.MessageConstant</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">com.atguigu.entity.Result</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">com.atguigu.service.MemberService</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RequestMapping</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RestController</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">java.text.SimpleDateFormat</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.util.*</span><span class="p">;</span>


<span class="cm">/**</span>
<span class="cm"> * ReportController</span>
<span class="cm"> *</span>
<span class="cm"> * @Author: 马伟奇</span>
<span class="cm"> * @CreateTime: 2019-12-26</span>
<span class="cm"> * @Description:</span>
<span class="cm"> */</span>
<span class="nd">@RestController</span>
<span class="nd">@RequestMapping</span><span class="p">(</span><span class="s">&quot;/report&quot;</span><span class="p">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ReportController</span> <span class="p">{</span>
    <span class="nd">@Reference</span>
    <span class="kd">private</span> <span class="n">MemberService</span> <span class="n">memberService</span><span class="p">;</span>

    <span class="cm">/**</span>
<span class="cm">     * 会员数量统计</span>
<span class="cm">     * @return</span>
<span class="cm">     */</span>
    <span class="nd">@RequestMapping</span><span class="p">(</span><span class="s">&quot;/getMemberReport&quot;</span><span class="p">)</span>
    <span class="kd">public</span> <span class="n">Result</span> <span class="nf">getMemberReport</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// 获取日历对象</span>
        <span class="n">Calendar</span> <span class="n">calendar</span> <span class="o">=</span> <span class="n">Calendar</span><span class="p">.</span><span class="na">getInstance</span><span class="p">();</span>
        <span class="c1">//根据当前时间，获取前12个月的日历(当前日历2020-02，12个月前，日历时间2019-03)</span>
        <span class="c1">//第二个参数，日历字段</span>
        <span class="c1">//第二个参数，要添加到字段中的日期或时间</span>
        <span class="n">calendar</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">Calendar</span><span class="p">.</span><span class="na">MONTH</span><span class="p">,</span><span class="o">-</span><span class="mi">12</span><span class="p">);</span>

        <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="p">();</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="mi">12</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
            <span class="c1">//第一个参数是月份 2018-7</span>
            <span class="c1">//第二个参数是月份+1个月 </span>
            <span class="n">calendar</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">Calendar</span><span class="p">.</span><span class="na">MONTH</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
            <span class="n">list</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">new</span> <span class="n">SimpleDateFormat</span><span class="p">(</span><span class="s">&quot;yyyy-MM&quot;</span><span class="p">).</span><span class="na">format</span><span class="p">(</span><span class="n">calendar</span><span class="p">.</span><span class="na">getTime</span><span class="p">()));</span>
        <span class="p">}</span>

        <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="n">Object</span><span class="o">&gt;</span><span class="p">();</span>
        <span class="c1">// 把过去12个月的日期存储到map里面</span>
        <span class="n">map</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;months&quot;</span><span class="p">,</span><span class="n">list</span><span class="p">);</span>
        <span class="c1">// 查询所有的会员</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">memberCount</span> <span class="o">=</span> <span class="n">memberService</span><span class="p">.</span><span class="na">findMemberCountByMonth</span><span class="p">(</span><span class="n">list</span><span class="p">);</span>
        <span class="n">map</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;memberCount&quot;</span><span class="p">,</span><span class="n">memberCount</span><span class="p">);</span>

        <span class="k">return</span> <span class="k">new</span> <span class="n">Result</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="n">MessageConstant</span><span class="p">.</span><span class="na">GET_MEMBER_NUMBER_REPORT_SUCCESS</span><span class="p">,</span><span class="n">map</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>计算日期，可以使用test方法测试一下</p>
<p><img alt="img" src="../img/021.png" /> </p>
<h4 id="332">3.3.2. <strong>服务接口</strong><a class="headerlink" href="#332" title="Permanent link">&para;</a></h4>
<p>在MemberService服务接口中扩展方法findMemberCountByMonth</p>
<div class="highlight"><pre><span></span><code><span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="nf">findMemberCountByMonth</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">months</span><span class="p">);</span>
</code></pre></div>
<h4 id="333">3.3.3. <strong>服务实现类</strong><a class="headerlink" href="#333" title="Permanent link">&para;</a></h4>
<p>在MemberServiceImpl服务实现类中实现findMemberCountByMonth方法</p>
<div class="highlight"><pre><span></span><code><span class="kn">package</span> <span class="nn">com.atguigu.service.impl</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">com.alibaba.dubbo.config.annotation.Service</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">com.atguigu.dao.MemberDao</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">com.atguigu.service.MemberService</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">com.atguigu.utils.DateUtils</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.transaction.annotation.Transactional</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * MemberServiceImpl</span>
<span class="cm"> *</span>
<span class="cm"> * @Author: 马伟奇</span>
<span class="cm"> * @CreateTime: 2020-02-06</span>
<span class="cm"> * @Description:</span>
<span class="cm"> */</span>
<span class="nd">@Service</span><span class="p">(</span><span class="n">interfaceClass</span> <span class="o">=</span> <span class="n">MemberService</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<span class="nd">@Transactional</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MemberServiceImpl</span> <span class="kd">implements</span> <span class="n">MemberService</span> <span class="p">{</span>

    <span class="nd">@Autowired</span>
    <span class="kd">private</span> <span class="n">MemberDao</span> <span class="n">memberDao</span><span class="p">;</span>

    <span class="c1">// 根据月份统计会员数量</span>
    <span class="kd">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="nf">findMemberCountByMonth</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">months</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">memeberCountList</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="p">();</span>
            <span class="k">if</span><span class="p">(</span><span class="n">monthsList</span><span class="o">!=</span><span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">monthsList</span><span class="p">.</span><span class="na">size</span><span class="p">()</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">){</span>
                <span class="k">for</span> <span class="p">(</span><span class="n">String</span> <span class="n">months</span> <span class="p">:</span> <span class="n">monthsList</span><span class="p">)</span> <span class="p">{</span>

                    <span class="c1">//String regTime = months+&quot;-31&quot;;</span>
                     <span class="c1">// 获取指定月份的最后一天</span>
                    <span class="n">String</span> <span class="n">regTime</span> <span class="o">=</span>  <span class="n">DateUtils</span><span class="p">.</span><span class="na">getLastDayOfMonth</span><span class="p">(</span><span class="n">months</span><span class="p">);</span>
                    <span class="c1">//  迭代过去12个月，每个月注册会员的数量，根据注册日期查询</span>
                    <span class="n">Integer</span> <span class="n">memeberCount</span> <span class="o">=</span> <span class="n">memberDao</span><span class="p">.</span><span class="na">findMemberCountBeforeDate</span><span class="p">(</span><span class="n">regTime</span><span class="p">);</span>
                    <span class="n">memeberCountList</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">memeberCount</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="n">memeberCountList</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<h4 id="334-dao">3.3.4. <strong>Dao接口</strong><a class="headerlink" href="#334-dao" title="Permanent link">&para;</a></h4>
<p>在MemberDao接口中扩展方法findMemberCountBeforeDate</p>
<div class="highlight"><pre><span></span><code><span class="kn">package</span> <span class="nn">com.atguigu.dao</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm"> * MemberDao</span>
<span class="cm"> *</span>
<span class="cm"> * @Author: 马伟奇</span>
<span class="cm"> * @CreateTime: 2020-02-06</span>
<span class="cm"> * @Description:</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">MemberDao</span> <span class="p">{</span>
    <span class="kd">public</span> <span class="n">Integer</span> <span class="nf">findMemberCountBeforeDate</span><span class="p">(</span><span class="n">String</span> <span class="n">date</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<h4 id="335-mapper">3.3.5. <strong>Mapper映射文件</strong><a class="headerlink" href="#335-mapper" title="Permanent link">&para;</a></h4>
<p>在MemberDao.xml映射文件中提供SQL语句</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="cp">&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span>
<span class="cp">        &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot; &gt;</span>
<span class="nt">&lt;mapper</span> <span class="na">namespace=</span><span class="s">&quot;com.atguigu.dao.MemberDao&quot;</span><span class="nt">&gt;</span>
    <span class="cm">&lt;!--根据日期统计会员数，统计指定日期之前的会员数--&gt;</span>
    <span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">&quot;findMemberCountBeforeDate&quot;</span> <span class="na">parameterType=</span><span class="s">&quot;string&quot;</span> <span class="na">resultType=</span><span class="s">&quot;int&quot;</span><span class="nt">&gt;</span>
    select count(id) from t_member where regTime <span class="ni">&amp;lt;</span>= #{value}
<span class="nt">&lt;/select&gt;</span>

<span class="nt">&lt;/mapper&gt;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>注意：在xml文件中 ， &lt;号需要转义”&amp;lt;”
                   &gt;号需要转义”&amp;gt;”
                   &amp;号需要专业 ”&amp;amp;”
</code></pre></div>
<p>测试</p>
<p>1：修改main.html</p>
<p><img alt="img" src="../img/022.png" /> </p>
<p>2：导入数据</p>
<p>3：测试效果</p>
<p><img alt="1581077352803" src="../img/1581077352803.png" /> </p>
<h3 id="_14">【小结】<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h3>
<p>1：需求分析</p>
<p>2：前台页面</p>
<p>（1）导入ECharts库</p>
<p>（2）参考官方实例导入折线图案例（折线图、柱状图、饼图...），参考API完成开发</p>
<p>3：后台代码</p>
<p>（1）ReportController类</p>
<p>（2）MemberService服务接口</p>
<p>（3）MemberServiceImpl服务实现类</p>
<p>（4）MemberDao接口</p>
<p>（5）Mapper映射文件（MemberDao.xml）</p>

              
			  <hr><span id="busuanzi_container_page_pv"><font size="3" color="grey">本文总阅读量<span id="busuanzi_value_page_pv"></span>次</font></span><br/>
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../../day08/%E7%BE%8E%E5%B9%B4%E5%9B%BD%E5%AE%BE%E9%A1%B9%E7%9B%AE%E8%AE%B2%E4%B9%89%EF%BC%88%E7%AC%AC8%E7%AB%A0%EF%BC%89/" class="md-footer__link md-footer__link--prev" aria-label="Previous: 美年旅游08" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              美年旅游08
            </div>
          </div>
        </a>
      
      
        
        <a href="../../day10/%E7%BE%8E%E5%B9%B4%E5%9B%BD%E5%AE%BE%E9%A1%B9%E7%9B%AE%E8%AE%B2%E4%B9%89%EF%BC%88%E7%AC%AC10%E7%AB%A0%EF%BC%89/" class="md-footer__link md-footer__link--next" aria-label="Next: 美年旅游10" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              美年旅游10
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 尚硅谷
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../../../..", "features": ["navigation.tabs", "navigation.tabs.sticky"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../../../../assets/javascripts/workers/search.22074ed6.min.js"}</script>
    
    
      <script src="../../../../../assets/javascripts/bundle.1514a9a0.min.js"></script>
      
        <script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
      
    
  </body>
</html>